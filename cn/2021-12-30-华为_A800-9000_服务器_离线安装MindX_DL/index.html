<!DOCTYPE html>
<html lang="en">

<!-- Head tag (contains Google-Analytics、Baidu-Tongji)-->
<head>
  <!-- Google Analytics -->
  
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async="async" src="https://www.googletagmanager.com/gtag/js?id=UA-xxxxxx-xx"></script>
    <script type="text/javascript">
      window.dataLayer = window.dataLayer || [];

      function gtag() {
        dataLayer.push(arguments);
      }
      gtag('js', new Date());

      gtag('config', 'UA-xxxxxx-xx');
    </script>
  

  <!-- Baidu Tongji -->
  
    <script type="text/javascript">
      // Originial
      var _hmt = _hmt || [];
      (function () {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm, s);
      })();
    </script>
  

  <!-- Baidu Push -->
  
    <script>
      (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
      })();
    </script>
  

  <meta charset="utf-8"/>
  <meta http-equiv="X-UA-Compatible" content="IE=edge"/>

  <meta name="google-site-verification" content="lxDfCplOZbIzjhG34NuQBgu2gdyRlAtMB4utP5AgEBc"/>
  <meta name="baidu-site-verification" content="PpzM9WxOJU"/>

  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="description" content="It&#39;s an IT blog..."/>
  <meta name="keyword" content="v-vincen,v-vincen,livemylife,IT  blog,Blog"/>
  <link rel="shortcut icon" href="/img/avatar/roguerabbit.jpg"/>

  <!-- Place this tag in your head or just before your close body tag. -->
  <script async="async" defer="defer" src="https://buttons.github.io/buttons.js"></script>

  
    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="/css/bootstrap.min.css"/>

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/beantech.min.css"/>

    <!-- Pygments Highlight CSS -->
    <link rel="stylesheet" href="/css/highlight.css"/>
    <link rel="stylesheet" href="/css/widget.css"/>
    <link rel="stylesheet" href="/css/rocket.css"/>
    <link rel="stylesheet" href="/css/signature.css"/>
    <link rel="stylesheet" href="/css/catalog.css"/>
    <link rel="stylesheet" href="/css/livemylife.css"/>

    
      <!-- wave start -->
      <link rel="stylesheet" href="/css/wave.css"/>
      <!-- wave end -->
    

    
      <!-- top start (article top hot config) -->
      <link rel="stylesheet" href="/css/top.css"/>
      <!-- top end -->
    

    
      <!-- ThemeColor start -->
      <link rel="stylesheet" href="/css/scroll.css"/>
      <!-- ThemeColor end -->
    

    
      <!-- viewer start (Picture preview) -->
      <link rel="stylesheet" href="/css/viewer.min.css"/>
      <!-- viewer end -->
    

    
      <!-- Search start -->
      <link rel="stylesheet" href="/css/search.css"/>
      <!-- Search end -->
    

    
      <!-- ThemeColor start -->
      <link rel="stylesheet" href="/css/themecolor.css"/>
      <!-- ThemeColor end -->
    

    

    
      <!-- gitalk start -->
      <!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css"> -->
      <link rel="stylesheet" href="/css/gitalk.css"/>
      <!-- gitalk end -->
    
  

  <!-- Custom Fonts -->
  <!-- <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet" type="text/css"> -->
  <!-- Hux change font-awesome CDN to qiniu -->
  <link rel="stylesheet" href="https://cdn.staticfile.org/font-awesome/4.5.0/css/font-awesome.min.css" type="text/css">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

  <!-- Hux Delete, sad but pending in China <link href='http://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'> <link
  href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/ css'> -->

  <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]> <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script> <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script> <![endif]-->

  <!-- ga & ba script hoook -->
  <link rel="canonical" href="http://yoursite-url/cn/2021-12-30-华为_A800-9000_服务器_离线安装MindX_DL/">
  <title>
    
      华为 A800-9000 服务器 离线安装MindX DL - either thin | or die
    
  </title>
<meta name="generator" content="Hexo 5.4.0"></head>


<!-- hack iOS CSS :active style -->

	<body ontouchstart="" class="body--light body--dark">


		<!-- ThemeColor -->
		
		<!-- ThemeColor -->
<style type="text/css">
  .body--light {
    --light-mode: none;
    --dark-mode: block;
  }
  .body--dark {
    --light-mode: block;
    --dark-mode: none;
  }
  i.mdui-icon.material-icons.light-mode {
    display: var(--light-mode);
  }
  i.mdui-icon.material-icons.dark-mode {
    display: var(--dark-mode);
  }
</style>
<div class="toggle" onclick="document.body.classList.toggle('body--dark')">
  <i class="mdui-icon material-icons light-mode"></i>
  <i class="mdui-icon material-icons dark-mode"></i>
</div>
<script>
  //getCookieValue
  function getCookieValue(a) {
    var b = document.cookie.match('(^|[^;]+)\\s*' + a + '\\s*=\\s*([^;]+)');
    return b
      ? b.pop()
      : '';
  }
  let themeMode = 'dark';
  if (getCookieValue('sb-color-mode') && (getCookieValue('sb-color-mode') !== themeMode)) {
    let dbody = document.body.classList;
    themeMode === 'dark' ? dbody.remove('body--dark') : dbody.add('body--dark');
  }

  //setCookieValue
  var toggleBtn = document.querySelector(".toggle");
  toggleBtn.addEventListener("click", function () {
    var e = document.body.classList.contains("body--dark");
    var cookieString = e
      ? "dark"
      : "light";
    var exp = new Date();
    exp.setTime(exp.getTime() + 3 * 24 * 60 * 60 * 1000); //3天过期
    document.cookie = "sb-color-mode=" + cookieString + ";expires=" + exp.toGMTString() + ";path=/";
  });
</script>

		

		<!-- Gitter -->
		
		<!-- Gitter -->
<!-- Docs:https://gitter.im/?utm_source=left-menu-logo -->
<script>
  ((window.gitter = {}).chat = {}).options = {
    room: 'your-community/your-room'
  };
</script>
<script src="https://sidecar.gitter.im/dist/sidecar.v1.js" async defer></script>

		

		<!-- Navigation (contains search)-->
		<!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
  <div class="container-fluid">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header page-scroll">
      <button type="button" class="navbar-toggle">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="/">chenby</a>
    </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <!-- Known Issue, found by Hux: <nav>'s height woule be hold on by its content. so, when navbar scale out, the <nav> will cover tags. also mask any touch event of tags, unfortunately. -->
    <div id="huxblog_navbar">
      <div class="navbar-collapse">
        <ul class="nav navbar-nav navbar-right">
          <li>
            <a href="/">首页</a>
          </li>

          
          
          
          
          <li>
            <a href="/about/">
              
              关于
              
              
            </a>
          </li>
          
          
          
          <li>
            <a href="/archive/">
              
              归档
              
              
            </a>
          </li>
          
          
          
          <li>
            <a href="/tags/">
              
              标签
              
              
            </a>
          </li>
          
          
          
          <li>
            <a href="/categories/">
              
              分类
              
              
            </a>
          </li>
          
          

          
          <li>
            <a class="popup-trigger">
              <span class="search-icon"></span>搜索</a>
          </li>
          

          <!-- LangSelect -->
          
          
          
          <!-- LangSelect start -->
          <!-- LangSelect -->
<li>
  <a id="lang-select-label"><i class="fa fa-globe"></i>
    <span>
      简体中文
    </span>
    <select id="lang-select" data-canonical="cn/2021-12-30-华为_A800-9000_服务器_离线安装MindX_DL/">
      
      
      <option value="en" >
        English
      </option>
      
      <option value="cn"  selected >
        简体中文
      </option>
      
    </select>
  </a>
</li>

          <!-- LangSelect end -->
          
          
          
        </ul>
      </div>
    </div>
    <!-- /.navbar-collapse -->
  </div>
  <!-- /.container -->
</nav>
<!-- progress -->
<div id="progress">
  <div class="line" style="width: 0%;"></div>
</div>

<script>
  // Drop Bootstarp low-performance Navbar Use customize navbar with high-quality material design animation in high-perf jank-free CSS3 implementation
  var $body = document.body;
  var $toggle = document.querySelector('.navbar-toggle');
  var $navbar = document.querySelector('#huxblog_navbar');
  var $collapse = document.querySelector('.navbar-collapse');

  $toggle.addEventListener('click', handleMagic)

  function handleMagic(e) {
    if ($navbar.className.indexOf('in') > 0) {
      // CLOSE
      $navbar.className = " ";
      // wait until animation end.
      setTimeout(function() {
        // prevent frequently toggle
        if ($navbar.className.indexOf('in') < 0) {
          $collapse.style.height = "0px"
        }
      }, 400)
    } else {
      // OPEN
      $collapse.style.height = "auto"
      $navbar.className += " in";
    }
  }
</script>


		<!-- Post Header (contains intro-header、signature、wordcount、busuanzi、waveoverlay) -->
		<!-- Modified by Yu-Hsuan Yen -->
<!-- Post Header -->

  <style type="text/css">
    .body--light {
      /* intro-header */
      --intro-header-background-image-url-home: url('/img/header_img/newhome_bg.jpg');
      --intro-header-background-image-url-post: url('');
      --intro-header-background-image-url-page: url('/img/header_img/archive_bg2.jpg');
    }
    .body--dark {
      --intro-header-background-image-url-home: linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.2)), url('/img/header_img/newhome_bg.jpg');
      --intro-header-background-image-url-post: linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.2)), url('');
      --intro-header-background-image-url-page: linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.2)), url('/img/header_img/archive_bg2.jpg');
    }

    header.intro-header {
       /*post*/
        background-image: var(--intro-header-background-image-url-post);
        /* background-image: url(''); */
      
    }

    
      #signature {/*signature*/
        background-image: url('/img/signature/vincent-white.png');
      }
    
  </style>





<header class="intro-header">
  <!-- Signature -->
  <div id="signature">
    <div class="container">
      <div class="row">
        <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
          
          <div class="post-heading">
            <div class="tags">
              
            </div>
            <h1>华为 A800-9000 服务器 离线安装MindX DL</h1>
            <h2 class="subheading"></h2>
            <span class="meta">
              Posted by cby on
              2021-12-30
            </span>


            
            <!-- WordCount start -->
            <div class="blank_box"></div>
            <span class="meta">
              Estimated Reading Time <span class="post-count">22</span> Minutes
            </span>
            <div class="blank_box"></div>
            <span class="meta">
              Words <span class="post-count">3.9k</span> In Total
            </span>
            <div class="blank_box"></div>
            <!-- WordCount end -->
            
            
            <!-- 不蒜子统计 start -->
            <span class="meta" id="busuanzi_container_page_pv">
              Viewed <span id="busuanzi_value_page_pv"><i class="fa fa-spinner fa-spin"></i></span> Times
            </span>
            <!-- 不蒜子统计 end -->
            


          </div>
          
        </div>
      </div>
    </div>
  </div>

  
  <!-- waveoverlay start -->
  <div class="preview-overlay">
    <svg class="preview-waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto">
      <defs>
        <path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"></path>
      </defs>
      <g class="preview-parallax">
        <use xlink:href="#gentle-wave" x="48" y="0" fill=var(--gentle-wave1)></use>
        <use xlink:href="#gentle-wave" x="48" y="3" fill=var(--gentle-wave2)></use>
        <use xlink:href="#gentle-wave" x="48" y="5" fill=var(--gentle-wave3)></use>
        <use xlink:href="#gentle-wave" x="48" y="7" fill=var(--gentle-wave)></use>
      </g>
    </svg>
  </div>
  <!-- waveoverlay end -->
  

</header>



		<!-- Main Content (Post contains
	Pager、
	tip、
	socialshare、
	gitalk、gitment、disqus-comment、
	Catalog、
	Sidebar、
	Featured-Tags、
	Friends Blog、
	anchorjs、
	) -->
		<!-- Modify by Yu-Hsuan Yen -->
<!-- Post Content -->
<article>
  <div class="container">
    <div class="row">
      <!-- Post Container -->
      <div class="col-lg-8 col-lg-offset-1 col-md-10 col-md-offset-1 post-container">

        <pre><code>MindX DL（昇腾深度学习组件）是支持 Atlas 800 训练服务器、Atlas 800 推理服务器的深度学习组件参考设计，提供昇腾 AI 处理器资源管理和监控、昇腾 AI 处理器优化调度、分布式训练集合通信配置生成等基础功能，快速使能合作伙伴进行深度学习平台开发。
</code></pre><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/16e4b9f7084840538d445b2d1d907fa5~tplv-k3u1fbpfcp-zoom-1.image" alt="图片"></p>
<pre><code>操作系统使用的是Ubuntu-1804，CPU是华为自研ARM架构。
</code></pre><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d03504939ec94b649d970864ee829a47~tplv-k3u1fbpfcp-zoom-1.image" alt="图片"></p>
<p>一、安装前准备</p>
<ol>
<li>配置apt网络源  </li>
</ol>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line">hello@ubuntu:<span class="regexp">/etc/</span>apt$ sudo cp sources.list~ sources.list</span><br><span class="line"></span><br><span class="line">hello@ubuntu:<span class="regexp">/etc/</span>apt$ cat sources.list</span><br><span class="line"></span><br><span class="line"><span class="comment"># </span></span><br><span class="line"></span><br><span class="line"><span class="comment"># deb cdrom:[Ubuntu-Server 18.04.5 LTS _Bionic Beaver_ - Release arm64 (20200810)]/ bionic main restricted</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#deb cdrom:[Ubuntu-Server 18.04.5 LTS _Bionic Beaver_ - Release arm64 (20200810)]/ bionic main restricted</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># See http://help.ubuntu.com/community/UpgradeNotes for how to upgrade to</span></span><br><span class="line"><span class="comment"># newer versions of the distribution.</span></span><br><span class="line">deb http:<span class="regexp">//</span>cn.ports.ubuntu.com<span class="regexp">/ubuntu-ports/</span> bionic main restricted</span><br><span class="line"><span class="comment"># deb-src http://cn.ports.ubuntu.com/ubuntu-ports/ bionic main restricted</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## Major bug fix updates produced after the final release of the</span></span><br><span class="line"><span class="comment">## distribution.</span></span><br><span class="line">deb http:<span class="regexp">//</span>cn.ports.ubuntu.com<span class="regexp">/ubuntu-ports/</span> bionic-updates main restricted</span><br><span class="line"><span class="comment"># deb-src http://cn.ports.ubuntu.com/ubuntu-ports/ bionic-updates main restricted</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## N.B. software from this repository is ENTIRELY UNSUPPORTED by the Ubuntu</span></span><br><span class="line"><span class="comment">## team. Also, please note that software in universe WILL NOT receive any</span></span><br><span class="line"><span class="comment">## review or updates from the Ubuntu security team.</span></span><br><span class="line">deb http:<span class="regexp">//</span>cn.ports.ubuntu.com<span class="regexp">/ubuntu-ports/</span> bionic universe</span><br><span class="line"><span class="comment"># deb-src http://cn.ports.ubuntu.com/ubuntu-ports/ bionic universe</span></span><br><span class="line">deb http:<span class="regexp">//</span>cn.ports.ubuntu.com<span class="regexp">/ubuntu-ports/</span> bionic-updates universe</span><br><span class="line"><span class="comment"># deb-src http://cn.ports.ubuntu.com/ubuntu-ports/ bionic-updates universe</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## N.B. software from this repository is ENTIRELY UNSUPPORTED by the Ubuntu </span></span><br><span class="line"><span class="comment">## team, and may not be under a free licence. Please satisfy yourself as to </span></span><br><span class="line"><span class="comment">## your rights to use the software. Also, please note that software in </span></span><br><span class="line"><span class="comment">## multiverse WILL NOT receive any review or updates from the Ubuntu</span></span><br><span class="line"><span class="comment">## security team.</span></span><br><span class="line">deb http:<span class="regexp">//</span>cn.ports.ubuntu.com<span class="regexp">/ubuntu-ports/</span> bionic multiverse</span><br><span class="line"><span class="comment"># deb-src http://cn.ports.ubuntu.com/ubuntu-ports/ bionic multiverse</span></span><br><span class="line">deb http:<span class="regexp">//</span>cn.ports.ubuntu.com<span class="regexp">/ubuntu-ports/</span> bionic-updates multiverse</span><br><span class="line"><span class="comment"># deb-src http://cn.ports.ubuntu.com/ubuntu-ports/ bionic-updates multiverse</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## N.B. software from this repository may not have been tested as</span></span><br><span class="line"><span class="comment">## extensively as that contained in the main release, although it includes</span></span><br><span class="line"><span class="comment">## newer versions of some applications which may provide useful features.</span></span><br><span class="line"><span class="comment">## Also, please note that software in backports WILL NOT receive any review</span></span><br><span class="line"><span class="comment">## or updates from the Ubuntu security team.</span></span><br><span class="line">deb http:<span class="regexp">//</span>cn.ports.ubuntu.com<span class="regexp">/ubuntu-ports/</span> bionic-backports main restricted universe multiverse</span><br><span class="line"><span class="comment"># deb-src http://cn.ports.ubuntu.com/ubuntu-ports/ bionic-backports main restricted universe multiverse</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## Uncomment the following two lines to add software from Canonical&#x27;s</span></span><br><span class="line"><span class="comment">## &#x27;partner&#x27; repository.</span></span><br><span class="line"><span class="comment">## This software is not part of Ubuntu, but is offered by Canonical and the</span></span><br><span class="line"><span class="comment">## respective vendors as a service to Ubuntu users.</span></span><br><span class="line"><span class="comment"># deb http://archive.canonical.com/ubuntu bionic partner</span></span><br><span class="line"><span class="comment"># deb-src http://archive.canonical.com/ubuntu bionic partner</span></span><br><span class="line"></span><br><span class="line">deb http:<span class="regexp">//</span>ports.ubuntu.com/ubuntu-ports bionic-security main restricted</span><br><span class="line"><span class="comment"># deb-src http://ports.ubuntu.com/ubuntu-ports bionic-security main restricted</span></span><br><span class="line">deb http:<span class="regexp">//</span>ports.ubuntu.com/ubuntu-ports bionic-security universe</span><br><span class="line"><span class="comment"># deb-src http://ports.ubuntu.com/ubuntu-ports bionic-security universe</span></span><br><span class="line">deb http:<span class="regexp">//</span>ports.ubuntu.com/ubuntu-ports bionic-security multiverse</span><br><span class="line"><span class="comment"># deb-src http://ports.ubuntu.com/ubuntu-ports bionic-security multiverse</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<pre><code>2.配置kubernetes网络源
</code></pre><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">root@ubuntu:~<span class="regexp">/123/</span>offline-pkg-arm64<span class="comment"># cat &lt;&lt;EOF &gt;/etc/apt/sources.list.d/kubernetes.list</span></span><br><span class="line">&gt; deb https:<span class="regexp">//mi</span>rrors.aliyun.com<span class="regexp">/kubernetes/</span>apt/ kubernetes-xenial main</span><br><span class="line">&gt; EOF</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<pre><code>3.创建目录并下载基础包  
</code></pre><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">root</span>@ubuntu:~/<span class="number">123</span># mkdir offline-pkg-arm<span class="number">64</span></span><br><span class="line"><span class="attribute">root</span>@ubuntu:~/<span class="number">123</span># cd offline-pkg-arm<span class="number">64</span>/</span><br><span class="line"><span class="attribute">root</span>@ubuntu:~/<span class="number">123</span>/offline-pkg-arm<span class="number">64</span># sudo apt update</span><br><span class="line"><span class="attribute">root</span>@ubuntu:~/<span class="number">123</span>/offline-pkg-arm<span class="number">64</span># apt-get download conntrack cri-tools haveged keyutils libhavege<span class="number">1</span> libltdl<span class="number">7</span> libnfsidmap<span class="number">2</span> libtirpc-dev libtirpc<span class="number">1</span> nfs-common nfs-kernel-server rpcbind socat sshpass</span><br><span class="line"><span class="attribute">root</span>@ubuntu:~/<span class="number">123</span>/offline-pkg-arm<span class="number">64</span># wget --no-check-certificate https://download.docker.com/linux/ubuntu/dists/bionic/pool/stable/arm<span class="number">64</span>/docker-ce_<span class="number">18</span>.<span class="number">06</span>.<span class="number">3</span>~ce~<span class="number">3</span>-<span class="number">0</span>~ubuntu_arm<span class="number">64</span>.deb</span><br><span class="line"><span class="attribute">root</span>@ubuntu:~/<span class="number">123</span>/offline-pkg-arm<span class="number">64</span># apt-get download kubelet=<span class="number">1</span>.<span class="number">17</span>.<span class="number">3</span>-<span class="number">00</span> kubeadm=<span class="number">1</span>.<span class="number">17</span>.<span class="number">3</span>-<span class="number">00</span> kubectl=<span class="number">1</span>.<span class="number">17</span>.<span class="number">3</span>-<span class="number">00</span> kubernetes-cni=<span class="number">0</span>.<span class="number">8</span>.<span class="number">6</span>-<span class="number">00</span></span><br></pre></td></tr></table></figure>
<pre><code>4.下载docker镜像并导出保存  
</code></pre><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">root</span>@ubuntu:~/<span class="number">123</span># mkdir docker_images</span><br><span class="line"><span class="attribute">root</span>@ubuntu:~/<span class="number">123</span># cd docker_images/</span><br><span class="line"><span class="attribute">root</span>@ubuntu:~/<span class="number">123</span>/docker_images# docker pull calico/node:v<span class="number">3</span>.<span class="number">11</span>.<span class="number">3</span></span><br><span class="line"><span class="attribute">root</span>@ubuntu:~/<span class="number">123</span>/docker_images# docker save -o calico-node_arm<span class="number">64</span>.tar.gz calico/node:v<span class="number">3</span>.<span class="number">11</span>.<span class="number">3</span></span><br><span class="line"><span class="attribute">root</span>@ubuntu:~/<span class="number">123</span>/docker_images# docker pull calico/pod<span class="number">2</span>daemon-flexvol:v<span class="number">3</span>.<span class="number">11</span>.<span class="number">3</span></span><br><span class="line"><span class="attribute">root</span>@ubuntu:~/<span class="number">123</span>/docker_images# docker save -o calico-pod<span class="number">2</span>daemon-flexvol_arm<span class="number">64</span>.tar.gz calico/pod<span class="number">2</span>daemon-flexvol:v<span class="number">3</span>.<span class="number">11</span>.<span class="number">3</span></span><br><span class="line"><span class="attribute">root</span>@ubuntu:~/<span class="number">123</span>/docker_images# docker pull calico/cni:v<span class="number">3</span>.<span class="number">11</span>.<span class="number">3</span></span><br><span class="line"><span class="attribute">root</span>@ubuntu:~/<span class="number">123</span>/docker_images# docker save -o calico-cni_arm<span class="number">64</span>.tar.gz calico/cni:v<span class="number">3</span>.<span class="number">11</span>.<span class="number">3</span></span><br><span class="line"><span class="attribute">root</span>@ubuntu:~/<span class="number">123</span>/docker_images# docker pull calico/kube-controllers:v<span class="number">3</span>.<span class="number">11</span>.<span class="number">3</span></span><br><span class="line"><span class="attribute">root</span>@ubuntu:~/<span class="number">123</span>/docker_images# docker save -o calico-kube-controllers_arm<span class="number">64</span>.tar.gz calico/kube-controllers:v<span class="number">3</span>.<span class="number">11</span>.<span class="number">3</span></span><br><span class="line"><span class="attribute">root</span>@ubuntu:~/<span class="number">123</span>/docker_images# docker pull coredns/coredns:<span class="number">1</span>.<span class="number">6</span>.<span class="number">5</span></span><br><span class="line"><span class="attribute">root</span>@ubuntu:~/<span class="number">123</span>/docker_images# docker save -o coredns_arm<span class="number">64</span>.tar.gz coredns/coredns:<span class="number">1</span>.<span class="number">6</span>.<span class="number">5</span></span><br><span class="line"><span class="attribute">root</span>@ubuntu:~/<span class="number">123</span>/docker_images# docker pull cruse/etcd-arm<span class="number">64</span>:<span class="number">3</span>.<span class="number">4</span>.<span class="number">3</span>-<span class="number">0</span></span><br><span class="line"><span class="attribute">root</span>@ubuntu:~/<span class="number">123</span>/docker_images# docker save -o etcd_arm<span class="number">64</span>.tar.gz cruse/etcd-arm<span class="number">64</span>:<span class="number">3</span>.<span class="number">4</span>.<span class="number">3</span>-<span class="number">0</span></span><br><span class="line"><span class="attribute">root</span>@ubuntu:~/<span class="number">123</span>/docker_images# docker pull cruse/kube-apiserver-arm<span class="number">64</span>:v<span class="number">1</span>.<span class="number">17</span>.<span class="number">3</span></span><br><span class="line"><span class="attribute">root</span>@ubuntu:~/<span class="number">123</span>/docker_images# docker save -o kube-apiserver_arm<span class="number">64</span>.tar.gz cruse/kube-apiserver-arm<span class="number">64</span>:v<span class="number">1</span>.<span class="number">17</span>.<span class="number">3</span></span><br><span class="line"><span class="attribute">root</span>@ubuntu:~/<span class="number">123</span>/docker_images# docker pull cruse/kube-controller-manager-arm<span class="number">64</span>:v<span class="number">1</span>.<span class="number">17</span>.<span class="number">3</span></span><br><span class="line"><span class="attribute">root</span>@ubuntu:~/<span class="number">123</span>/docker_images# docker save -o kube-controller-manager_arm<span class="number">64</span>.tar.gz  cruse/kube-controller-manager-arm<span class="number">64</span>:v<span class="number">1</span>.<span class="number">17</span>.<span class="number">3</span></span><br><span class="line"><span class="attribute">root</span>@ubuntu:~/<span class="number">123</span>/docker_images# docker pull cruse/kube-proxy-arm<span class="number">64</span>:v<span class="number">1</span>.<span class="number">17</span>.<span class="number">3</span>-beta.<span class="number">0</span></span><br><span class="line"><span class="attribute">root</span>@ubuntu:~/<span class="number">123</span>/docker_images# docker save -o kube-proxy_arm<span class="number">64</span>.tar.gz cruse/kube-proxy-arm<span class="number">64</span>:v<span class="number">1</span>.<span class="number">17</span>.<span class="number">3</span>-beta.<span class="number">0</span></span><br><span class="line"><span class="attribute">root</span>@ubuntu:~/<span class="number">123</span>/docker_images# docker pull cruse/kube-scheduler-arm<span class="number">64</span>:v<span class="number">1</span>.<span class="number">17</span>.<span class="number">3</span>-beta.<span class="number">0</span></span><br><span class="line"><span class="attribute">root</span>@ubuntu:~/<span class="number">123</span>/docker_images# docker save -o kube-scheduler_arm<span class="number">64</span>.tar.gz cruse/kube-scheduler-arm<span class="number">64</span>:v<span class="number">1</span>.<span class="number">17</span>.<span class="number">3</span>-beta.<span class="number">0</span></span><br><span class="line"><span class="attribute">root</span>@ubuntu:~/<span class="number">123</span>/docker_images# docker pull cruse/pause-arm<span class="number">64</span>:<span class="number">3</span>.<span class="number">1</span></span><br><span class="line"><span class="attribute">root</span>@ubuntu:~/<span class="number">123</span>/docker_images# docker save -o pause_arm<span class="number">64</span>.tar.gz cruse/pause-arm<span class="number">64</span>:<span class="number">3</span>.<span class="number">1</span></span><br><span class="line"><span class="attribute">root</span>@ubuntu:~/<span class="number">123</span>/docker_images# </span><br><span class="line"><span class="attribute">root</span>@ubuntu:~/<span class="number">123</span>/docker_images# </span><br><span class="line"><span class="attribute">root</span>@ubuntu:~/<span class="number">123</span>/docker_images# docker login -u <span class="number">15648907522</span> -p RtZOXgmpYAQd<span class="number">5</span>cj<span class="number">93</span>uFCabNXUWB<span class="number">7</span>wOftGw<span class="number">4</span>pFdcal<span class="number">4</span>XZH<span class="number">4</span>bf<span class="number">06</span>hvFxTOrYtr<span class="number">1</span>nRao ascendhub.huawei.com</span><br><span class="line"><span class="attribute">root</span>@ubuntu:~/<span class="number">123</span>/docker_images# </span><br><span class="line"><span class="attribute">root</span>@ubuntu:~/<span class="number">123</span>/docker_images# </span><br><span class="line"><span class="attribute">root</span>@ubuntu:~/<span class="number">123</span>/docker_images# docker pull ascendhub.huawei.com/public-ascendhub/vc-controller-manager_arm<span class="number">64</span>:v<span class="number">1</span>.<span class="number">0</span>.<span class="number">1</span>-r<span class="number">40</span></span><br><span class="line"><span class="attribute">root</span>@ubuntu:~/<span class="number">123</span>/docker_images# docker pull ascendhub.huawei.com/public-ascendhub/vc-scheduler_arm<span class="number">64</span>:v<span class="number">1</span>.<span class="number">0</span>.<span class="number">1</span>-r<span class="number">40</span></span><br><span class="line"><span class="attribute">root</span>@ubuntu:~/<span class="number">123</span>/docker_images# docker pull ascendhub.huawei.com/public-ascendhub/vc-webhook-manager_arm<span class="number">64</span>:v<span class="number">1</span>.<span class="number">0</span>.<span class="number">1</span>-r<span class="number">40</span></span><br><span class="line"><span class="attribute">root</span>@ubuntu:~/<span class="number">123</span>/docker_images# docker pull ascendhub.huawei.com/public-ascendhub/vc-webhook-manager-base_arm<span class="number">64</span>:v<span class="number">1</span>.<span class="number">0</span>.<span class="number">1</span>-r<span class="number">40</span></span><br><span class="line"><span class="attribute">root</span>@ubuntu:~/<span class="number">123</span>/docker_images# docker pull ascendhub.huawei.com/public-ascendhub/hccl-controller_arm<span class="number">64</span>:v<span class="number">20</span>.<span class="number">2</span>.<span class="number">0</span></span><br><span class="line"><span class="attribute">root</span>@ubuntu:~/<span class="number">123</span>/docker_images# docker pull ascendhub.huawei.com/public-ascendhub/ascend-k<span class="number">8</span>sdeviceplugin_arm<span class="number">64</span>:v<span class="number">20</span>.<span class="number">2</span>.<span class="number">0</span></span><br><span class="line"><span class="attribute">root</span>@ubuntu:~/<span class="number">123</span>/docker_images# docker pull ascendhub.huawei.com/public-ascendhub/cadvisor_arm<span class="number">64</span>:v<span class="number">0</span>.<span class="number">34</span>.<span class="number">0</span>-r<span class="number">40</span></span><br><span class="line"><span class="attribute">root</span>@ubuntu:~/<span class="number">123</span>/docker_images# </span><br><span class="line"><span class="attribute">root</span>@ubuntu:~/<span class="number">123</span>/docker_images# </span><br><span class="line"><span class="attribute">root</span>@ubuntu:~/<span class="number">123</span>/docker_images# </span><br><span class="line"><span class="attribute">root</span>@ubuntu:~/<span class="number">123</span>/docker_images# docker tag ascendhub.huawei.com/public-ascendhub/vc-controller-manager_arm<span class="number">64</span>:v<span class="number">1</span>.<span class="number">0</span>.<span class="number">1</span>-r<span class="number">40</span> volcanosh/vc-controller-manager:v<span class="number">1</span>.<span class="number">0</span>.<span class="number">1</span>-r<span class="number">40</span></span><br><span class="line"><span class="attribute">root</span>@ubuntu:~/<span class="number">123</span>/docker_images# docker tag ascendhub.huawei.com/public-ascendhub/vc-scheduler_arm<span class="number">64</span>:v<span class="number">1</span>.<span class="number">0</span>.<span class="number">1</span>-r<span class="number">40</span> volcanosh/vc-scheduler:v<span class="number">1</span>.<span class="number">0</span>.<span class="number">1</span>-r<span class="number">40</span></span><br><span class="line"><span class="attribute">root</span>@ubuntu:~/<span class="number">123</span>/docker_images# docker tag ascendhub.huawei.com/public-ascendhub/vc-webhook-manager_arm<span class="number">64</span>:v<span class="number">1</span>.<span class="number">0</span>.<span class="number">1</span>-r<span class="number">40</span> volcanosh/vc-webhook-manager:v<span class="number">1</span>.<span class="number">0</span>.<span class="number">1</span>-r<span class="number">40</span></span><br><span class="line"><span class="attribute">root</span>@ubuntu:~/<span class="number">123</span>/docker_images# docker tag ascendhub.huawei.com/public-ascendhub/vc-webhook-manager-base_arm<span class="number">64</span>:v<span class="number">1</span>.<span class="number">0</span>.<span class="number">1</span>-r<span class="number">40</span> volcanosh/vc-webhook-manager-base:v<span class="number">1</span>.<span class="number">0</span>.<span class="number">1</span>-r<span class="number">40</span></span><br><span class="line"><span class="attribute">root</span>@ubuntu:~/<span class="number">123</span>/docker_images# docker tag ascendhub.huawei.com/public-ascendhub/hccl-controller_arm<span class="number">64</span>:v<span class="number">20</span>.<span class="number">2</span>.<span class="number">0</span> hccl-controller:v<span class="number">20</span>.<span class="number">2</span>.<span class="number">0</span></span><br><span class="line"><span class="attribute">root</span>@ubuntu:~/<span class="number">123</span>/docker_images# docker tag ascendhub.huawei.com/public-ascendhub/ascend-k<span class="number">8</span>sdeviceplugin_arm<span class="number">64</span>:v<span class="number">20</span>.<span class="number">2</span>.<span class="number">0</span> ascend-k<span class="number">8</span>sdeviceplugin:v<span class="number">20</span>.<span class="number">2</span>.<span class="number">0</span></span><br><span class="line"><span class="attribute">root</span>@ubuntu:~/<span class="number">123</span>/docker_images# docker tag ascendhub.huawei.com/public-ascendhub/cadvisor_arm<span class="number">64</span>:v<span class="number">0</span>.<span class="number">34</span>.<span class="number">0</span>-r<span class="number">40</span> google/cadvisor:v<span class="number">0</span>.<span class="number">34</span>.<span class="number">0</span>-r<span class="number">40</span></span><br><span class="line"><span class="attribute">root</span>@ubuntu:~/<span class="number">123</span>/docker_images# docker rmi ascendhub.huawei.com/public-ascendhub/vc-controller-manager_arm<span class="number">64</span>:v<span class="number">1</span>.<span class="number">0</span>.<span class="number">1</span>-r<span class="number">40</span></span><br><span class="line"><span class="attribute">root</span>@ubuntu:~/<span class="number">123</span>/docker_images# docker rmi ascendhub.huawei.com/public-ascendhub/vc-scheduler_arm<span class="number">64</span>:v<span class="number">1</span>.<span class="number">0</span>.<span class="number">1</span>-r<span class="number">40</span></span><br><span class="line"><span class="attribute">root</span>@ubuntu:~/<span class="number">123</span>/docker_images# docker rmi ascendhub.huawei.com/public-ascendhub/vc-webhook-manager_arm<span class="number">64</span>:v<span class="number">1</span>.<span class="number">0</span>.<span class="number">1</span>-r<span class="number">40</span></span><br><span class="line"><span class="attribute">root</span>@ubuntu:~/<span class="number">123</span>/docker_images# docker rmi ascendhub.huawei.com/public-ascendhub/vc-webhook-manager-base_arm<span class="number">64</span>:v<span class="number">1</span>.<span class="number">0</span>.<span class="number">1</span>-r<span class="number">40</span></span><br><span class="line"><span class="attribute">root</span>@ubuntu:~/<span class="number">123</span>/docker_images# docker rmi ascendhub.huawei.com/public-ascendhub/hccl-controller_arm<span class="number">64</span>:v<span class="number">20</span>.<span class="number">2</span>.<span class="number">0</span></span><br><span class="line"><span class="attribute">root</span>@ubuntu:~/<span class="number">123</span>/docker_images# docker rmi ascendhub.huawei.com/public-ascendhub/ascend-k<span class="number">8</span>sdeviceplugin_arm<span class="number">64</span>:v<span class="number">20</span>.<span class="number">2</span>.<span class="number">0</span></span><br><span class="line"><span class="attribute">root</span>@ubuntu:~/<span class="number">123</span>/docker_images# docker rmi ascendhub.huawei.com/public-ascendhub/cadvisor_arm<span class="number">64</span>:v<span class="number">0</span>.<span class="number">34</span>.<span class="number">0</span>-r<span class="number">40</span></span><br><span class="line"><span class="attribute">root</span>@ubuntu:~/<span class="number">123</span>/docker_images# </span><br><span class="line"><span class="attribute">root</span>@ubuntu:~/<span class="number">123</span>/docker_images# </span><br><span class="line"><span class="attribute">root</span>@ubuntu:~/<span class="number">123</span>/docker_images# </span><br><span class="line"><span class="attribute">root</span>@ubuntu:~/<span class="number">123</span>/docker_images# </span><br><span class="line"><span class="attribute">root</span>@ubuntu:~/<span class="number">123</span>/docker_images# docker save -o Ascend-K<span class="number">8</span>sDevicePlugin-v<span class="number">20</span>.<span class="number">2</span>.<span class="number">0</span>-arm<span class="number">64</span>-Docker.tar.gz ascend-k<span class="number">8</span>sdeviceplugin:v<span class="number">20</span>.<span class="number">2</span>.<span class="number">0</span></span><br><span class="line"><span class="attribute">root</span>@ubuntu:~/<span class="number">123</span>/docker_images# docker save -o hccl-controller-v<span class="number">20</span>.<span class="number">2</span>.<span class="number">0</span>-arm<span class="number">64</span>.tar.gz hccl-controller:v<span class="number">20</span>.<span class="number">2</span>.<span class="number">0</span></span><br><span class="line"><span class="attribute">root</span>@ubuntu:~/<span class="number">123</span>/docker_images# docker save -o huawei-cadvisor-v<span class="number">0</span>.<span class="number">34</span>.<span class="number">0</span>-r<span class="number">40</span>-arm<span class="number">64</span>.tar.gz google/cadvisor:v<span class="number">0</span>.<span class="number">34</span>.<span class="number">0</span>-r<span class="number">40</span></span><br><span class="line"><span class="attribute">root</span>@ubuntu:~/<span class="number">123</span>/docker_images# docker save -o vc-controller-manager-v<span class="number">1</span>.<span class="number">0</span>.<span class="number">1</span>-r<span class="number">40</span>-arm<span class="number">64</span>.tar.gz volcanosh/vc-controller-manager:v<span class="number">1</span>.<span class="number">0</span>.<span class="number">1</span>-r<span class="number">40</span></span><br><span class="line"><span class="attribute">root</span>@ubuntu:~/<span class="number">123</span>/docker_images# docker save -o vc-scheduler-v<span class="number">1</span>.<span class="number">0</span>.<span class="number">1</span>-r<span class="number">40</span>-arm<span class="number">64</span>.tar.gz volcanosh/vc-scheduler:v<span class="number">1</span>.<span class="number">0</span>.<span class="number">1</span>-r<span class="number">40</span></span><br><span class="line"><span class="attribute">root</span>@ubuntu:~/<span class="number">123</span>/docker_images# docker save -o vc-webhook-manager-base-v<span class="number">1</span>.<span class="number">0</span>.<span class="number">1</span>-r<span class="number">40</span>-arm<span class="number">64</span>.tar.gz volcanosh/vc-webhook-manager-base:v<span class="number">1</span>.<span class="number">0</span>.<span class="number">1</span>-r<span class="number">40</span></span><br><span class="line"><span class="attribute">root</span>@ubuntu:~/<span class="number">123</span>/docker_images# docker save -o vc-webhook-manager-v<span class="number">1</span>.<span class="number">0</span>.<span class="number">1</span>-r<span class="number">40</span>-arm<span class="number">64</span>.tar.gz volcanosh/vc-webhook-manager:v<span class="number">1</span>.<span class="number">0</span>.<span class="number">1</span>-r<span class="number">40</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><strong>注* 其中部分镜像是需要在华为hub里面进行获取权限后进行下载</strong>  </p>
<p><a target="_blank" rel="noopener" href="https://support.huaweicloud.com/usermanual-mindxdl202/atlasmindx\_03\_0047.html">https://support.huaweicloud.com/usermanual-mindxdl202/atlasmindx\_03\_0047.html</a></p>
<pre><code>5.完成后的目录  
</code></pre><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">root@ubuntu:~/<span class="number">123</span># tree</span><br><span class="line">.</span><br><span class="line">├── docker_images</span><br><span class="line">│   ├── Ascend-K8sDevicePlugin-v20.<span class="number">2.0</span>-arm64-Docker.tar.gz</span><br><span class="line">│   ├── calico-cni_arm64.tar.gz</span><br><span class="line">│   ├── calico-kube-controllers_arm64.tar.gz</span><br><span class="line">│   ├── calico-node_arm64.tar.gz</span><br><span class="line">│   ├── calico-pod2daemon-flexvol_arm64.tar.gz</span><br><span class="line">│   ├── coredns_arm64.tar.gz</span><br><span class="line">│   ├── etcd_arm64.tar.gz</span><br><span class="line">│   ├── hccl-controller-v20.<span class="number">2.0</span>-arm64.tar.gz</span><br><span class="line">│   ├── huawei-cadvisor-v0.<span class="number">34.0</span>-r40-arm64.tar.gz</span><br><span class="line">│   ├── kube-apiserver_arm64.tar.gz</span><br><span class="line">│   ├── kube-controller-manager_arm64.tar.gz</span><br><span class="line">│   ├── kube-proxy_arm64.tar.gz</span><br><span class="line">│   ├── kube-scheduler_arm64.tar.gz</span><br><span class="line">│   ├── pause_arm64.tar.gz</span><br><span class="line">│   ├── vc-controller-manager-v1.<span class="number">0.1</span>-r40-arm64.tar.gz</span><br><span class="line">│   ├── vc-scheduler-v1.<span class="number">0.1</span>-r40-arm64.tar.gz</span><br><span class="line">│   ├── vc-webhook-manager-base-v1.<span class="number">0.1</span>-r40-arm64.tar.gz</span><br><span class="line">│   └── vc-webhook-manager-v1.<span class="number">0.1</span>-r40-arm64.tar.gz</span><br><span class="line">├── offline-pkg-arm64</span><br><span class="line">│   ├── conntrack_1%<span class="number">3</span>a1.<span class="number">4.4</span>+snapshot20161117-<span class="number">6</span>ubuntu2_arm64.<span class="keyword">deb</span></span><br><span class="line">│   ├── cri-tools_1.<span class="number">13.0</span>-<span class="number">01</span>_arm64.<span class="keyword">deb</span></span><br><span class="line">│   ├── docker-ce_18.<span class="number">06.3</span>~<span class="keyword">ce</span>~<span class="number">3</span>-<span class="number">0</span>~ubuntu_arm64.<span class="keyword">deb</span></span><br><span class="line">│   ├── haveged_1.<span class="number">9.1</span>-<span class="number">6</span>_arm64.<span class="keyword">deb</span></span><br><span class="line">│   ├── keyutils_1.<span class="number">5.9</span>-<span class="number">9.2</span>ubuntu2_arm64.<span class="keyword">deb</span></span><br><span class="line">│   ├── kubeadm_1.<span class="number">17.3</span>-<span class="number">00</span>_arm64.<span class="keyword">deb</span></span><br><span class="line">│   ├── kubectl_1.<span class="number">17.3</span>-<span class="number">00</span>_arm64.<span class="keyword">deb</span></span><br><span class="line">│   ├── kubelet_1.<span class="number">17.3</span>-<span class="number">00</span>_arm64.<span class="keyword">deb</span></span><br><span class="line">│   ├── kubernetes-cni_0.<span class="number">8.6</span>-<span class="number">00</span>_arm64.<span class="keyword">deb</span></span><br><span class="line">│   ├── libhavege1_1.<span class="number">9.1</span>-<span class="number">6</span>_arm64.<span class="keyword">deb</span></span><br><span class="line">│   ├── libltdl7_2.<span class="number">4.6</span>-<span class="number">2</span>_arm64.<span class="keyword">deb</span></span><br><span class="line">│   ├── libnfsidmap2_0.<span class="number">25</span>-<span class="number">5.1</span>_arm64.<span class="keyword">deb</span></span><br><span class="line">│   ├── libtirpc1_0.<span class="number">2.5</span>-<span class="number">1.2</span>ubuntu0.<span class="number">1</span>_arm64.<span class="keyword">deb</span></span><br><span class="line">│   ├── libtirpc-dev_0.<span class="number">2.5</span>-<span class="number">1.2</span>ubuntu0.<span class="number">1</span>_arm64.<span class="keyword">deb</span></span><br><span class="line">│   ├── nfs-common_1%<span class="number">3</span>a1.<span class="number">3.4</span>-<span class="number">2.1</span>ubuntu5.<span class="number">5</span>_arm64.<span class="keyword">deb</span></span><br><span class="line">│   ├── nfs-kernel-server_1%<span class="number">3</span>a1.<span class="number">3.4</span>-<span class="number">2.1</span>ubuntu5.<span class="number">5</span>_arm64.<span class="keyword">deb</span></span><br><span class="line">│   ├── rpcbind_0.<span class="number">2.3</span>-<span class="number">0.6</span>ubuntu0.<span class="number">18.04</span>.<span class="number">4</span>_arm64.<span class="keyword">deb</span></span><br><span class="line">│   ├── socat_1.<span class="number">7.3</span>.<span class="number">2</span>-<span class="number">2</span>ubuntu2_arm64.<span class="keyword">deb</span></span><br><span class="line">│   └── sshpass_1.<span class="number">06</span>-<span class="number">1</span>_arm64.<span class="keyword">deb</span></span><br><span class="line">├── offline-pkg-arm64.zip</span><br><span class="line">└── yamls</span><br><span class="line">    ├── ascendplugin-<span class="number">310</span>-v20.<span class="number">2.0</span>.yaml</span><br><span class="line">    ├── ascendplugin-volcano-v20.<span class="number">2.0</span>.yaml</span><br><span class="line">    ├── cadvisor-v0.<span class="number">34.0</span>-r40.yaml</span><br><span class="line">    ├── calico.yaml</span><br><span class="line">    ├── hccl-controller-v20.<span class="number">2.0</span>.yaml</span><br><span class="line">    ├── npu-exporter-v20.<span class="number">2.0</span>.yaml</span><br><span class="line">    └── volcano-v1.<span class="number">0.1</span>-r40.yaml</span><br><span class="line"></span><br><span class="line"><span class="number">3</span> directories, <span class="number">46</span> <span class="keyword">files</span></span><br><span class="line">root@ubuntu:~/<span class="number">123</span>#</span><br></pre></td></tr></table></figure>
<p>注* 其中yamls文件在下方链接中下载  </p>
<p><a target="_blank" rel="noopener" href="https://gitee.com/ascend/mindxdl-deploy/tree/20201230-V20.2.0/">https://gitee.com/ascend/mindxdl-deploy/tree/20201230-V20.2.0/</a></p>
<pre><code>6.配置免密登陆  
</code></pre><figure class="highlight gherkin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">root<span class="meta">@ubuntu:~#</span> ssh-keygen</span><br><span class="line">Generating public/private rsa key pair.</span><br><span class="line">Enter file in which to save the key (/root/.ssh/id_rsa): </span><br><span class="line">Created directory &#x27;/root/.ssh&#x27;.</span><br><span class="line">Enter passphrase (empty for no passphrase): </span><br><span class="line">Enter same passphrase again: </span><br><span class="line">Your identification has been saved in /root/.ssh/id_rsa.</span><br><span class="line">Your public key has been saved in /root/.ssh/id_rsa.pub.</span><br><span class="line">The key fingerprint is:</span><br><span class="line">SHA256:07dTbsAycQqT2w7HdCwjIyJig5T20FQ/eHZGxWg7pbY root<span class="meta">@ubuntu</span></span><br><span class="line">The key&#x27;s randomart image is:</span><br><span class="line">+---[RSA 2048]----+</span><br><span class="line">|<span class="string"> .+...   .+.     </span>|</span><br><span class="line">|<span class="string">o+ .  o .+ +     </span>|</span><br><span class="line">|<span class="string">+o+ ...=BoO +    </span>|</span><br><span class="line">|<span class="string">...o .o.+/ O     </span>|</span><br><span class="line">|<span class="string">        S @ + .  </span>|</span><br><span class="line">|<span class="string">         E + =   </span>|</span><br><span class="line">|<span class="string">          . o o  </span>|</span><br><span class="line">|<span class="string">             o   </span>|</span><br><span class="line">|<span class="string">                 </span>|</span><br><span class="line">+----[SHA256]-----+</span><br><span class="line">root<span class="meta">@ubuntu:~#</span> </span><br><span class="line">root<span class="meta">@ubuntu:~#</span> ssh-copy-id -i 127.0.0.1</span><br></pre></td></tr></table></figure>
<pre><code>7.配置安装ansible  
</code></pre><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line">root@ubuntu:~# </span><br><span class="line">root@ubuntu:~# apt install ansible</span><br><span class="line">root@ubuntu:~# vim /etc/ansible/hosts</span><br><span class="line"></span><br><span class="line"><span class="comment">#配置内容如下</span></span><br><span class="line">[all:vars]</span><br><span class="line"><span class="comment"># default shared directory, you can change it as yours</span></span><br><span class="line"><span class="attribute">nfs_shared_dir</span>=/data/atlas_dls</span><br><span class="line"></span><br><span class="line"><span class="comment"># NFS service IP</span></span><br><span class="line"><span class="attribute">nfs_service_ip</span>=192.168.1.110</span><br><span class="line"></span><br><span class="line"><span class="comment"># Master IP</span></span><br><span class="line"><span class="attribute">master_ip</span>=192.168.1.110</span><br><span class="line"></span><br><span class="line"><span class="comment"># dls install package dir</span></span><br><span class="line"><span class="attribute">dls_root_dir</span>=/root/123</span><br><span class="line"></span><br><span class="line"><span class="comment"># set proxy</span></span><br><span class="line"><span class="attribute">proxy</span>=<span class="string">&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Command for logging in to the Asend hub</span></span><br><span class="line"><span class="attribute">ascendhub_login_command</span>=<span class="string">&quot;login_command&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Generally, you do not need to change the value or delete it.</span></span><br><span class="line"><span class="attribute">ascendhub_prefix</span>=<span class="string">&quot;ascendhub.huawei.com/public-ascendhub&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># versions</span></span><br><span class="line"><span class="attribute">deviceplugin_version</span>=<span class="string">&quot;v20.2.0&quot;</span></span><br><span class="line"><span class="attribute">cadvisor_version</span>=<span class="string">&quot;v0.34.0-r40&quot;</span></span><br><span class="line"><span class="attribute">volcano_version</span>=<span class="string">&quot;v1.0.1-r40&quot;</span></span><br><span class="line"><span class="attribute">hccl_version</span>=<span class="string">&quot;v20.2.0&quot;</span></span><br><span class="line"></span><br><span class="line">[nfs_server]</span><br><span class="line">ubuntu <span class="attribute">ansible_host</span>=192.168.1.110 <span class="attribute">ansible_ssh_user</span>=<span class="string">&quot;root&quot;</span> <span class="attribute">ansible_ssh_pass</span>=<span class="string">&quot;123123&quot;</span></span><br><span class="line"></span><br><span class="line">[localnode]</span><br><span class="line">ubuntu <span class="attribute">ansible_host</span>=192.168.1.110 <span class="attribute">ansible_ssh_user</span>=<span class="string">&quot;root&quot;</span> <span class="attribute">ansible_ssh_pass</span>=<span class="string">&quot;123123&quot;</span></span><br><span class="line"></span><br><span class="line">[training_node]</span><br><span class="line">ubuntu <span class="attribute">ansible_host</span>=192.168.1.110 <span class="attribute">ansible_ssh_user</span>=<span class="string">&quot;root&quot;</span> <span class="attribute">ansible_ssh_pass</span>=<span class="string">&quot;123123&quot;</span></span><br><span class="line"></span><br><span class="line">[inference_node]</span><br><span class="line"></span><br><span class="line">[A300T_node]</span><br><span class="line"></span><br><span class="line">[arm]</span><br><span class="line">ubuntu <span class="attribute">ansible_host</span>=192.168.1.110 <span class="attribute">ansible_ssh_user</span>=<span class="string">&quot;root&quot;</span> <span class="attribute">ansible_ssh_pass</span>=<span class="string">&quot;123123&quot;</span></span><br><span class="line"></span><br><span class="line">[x86]</span><br><span class="line"></span><br><span class="line">[workers:children]</span><br><span class="line">training_node</span><br><span class="line">inference_node</span><br><span class="line">A300T_node</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">root@ubuntu:~/mindxdl/deploy/offline/steps# vim /etc/ansible/ansible.cfg</span><br><span class="line">log_path = /var/log/ansible.log</span><br><span class="line">host_key_checking = <span class="literal">False</span></span><br><span class="line">deprecation_warnings = <span class="literal">False</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>注* 参数说明，请根据实际写入：</p>
<figure class="highlight x86asm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">nfs-host-<span class="built_in">ip</span>：NFS节点服务器<span class="built_in">IP</span>地址，即服务器<span class="built_in">IP</span>地址，如果不安装NFS可设置为空字符串，如：<span class="string">&quot;&quot;</span>。</span><br><span class="line">master-host-<span class="built_in">ip</span>：管理节点服务器<span class="built_in">IP</span>地址，即服务器<span class="built_in">IP</span>地址。</span><br><span class="line">install_dir：基础软件包、镜像包和yamls文件夹的上传目录。</span><br><span class="line">proxy_address：代理地址，请根据实际情况配置，如果不需要代理，设置为空字符串，如：<span class="string">&quot;&quot;</span>。</span><br><span class="line">login_command：从Ascend Hub中心获取镜像需要使用的登录命令，仅在线安装需要配置，如：<span class="string">&quot;docker login -u xxxxxx@xxxxxx -p xxxxxxxx ascendhub.huawei.com&quot;</span>，注意不要遗漏命令前后的引号，获取方式请参见获取MindX <span class="built_in">DL</span>镜像中<span class="number">1</span>~<span class="number">2</span>。离线安装可设置为空字符串，如：<span class="string">&quot;&quot;</span>。</span><br><span class="line">single-node-host-name：请使用单节点主机名，可通过hostname命令查看。</span><br><span class="line"><span class="built_in">IP</span>：服务器<span class="built_in">IP</span>地址。</span><br><span class="line">username：登录服务器的用户名。建议使用root用户，避免权限不足。</span><br><span class="line">passwd：登录服务器的用户密码。</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>二、一键安装  </p>
<figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">root<span class="variable">@ubuntu</span><span class="symbol">:~/sshpass</span><span class="comment"># apt install sshpass</span></span><br><span class="line">root<span class="variable">@ubuntu</span><span class="symbol">:~/mindxdl/deploy/offline/steps</span><span class="comment"># dos2unix *</span></span><br><span class="line">root<span class="variable">@ubuntu</span><span class="symbol">:~/mindxdl/deploy/offline/steps</span><span class="comment"># chmod 500 entry.sh</span></span><br><span class="line">root<span class="variable">@ubuntu</span><span class="symbol">:~/mindxdl/deploy/offline/steps</span><span class="comment"># bash -x entry.sh</span></span><br></pre></td></tr></table></figure>
<p>三、安装后进行验证  </p>
<pre><code>1.docker信息查看  
</code></pre><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">root<span class="keyword">@ubuntu</span>:~# docker info</span><br><span class="line"><span class="attribute">Containers</span>: <span class="number">35</span></span><br><span class="line"> <span class="attribute">Running</span>: <span class="number">30</span></span><br><span class="line"> <span class="attribute">Paused</span>: <span class="number">0</span></span><br><span class="line"> <span class="attribute">Stopped</span>: <span class="number">5</span></span><br><span class="line"><span class="attribute">Images</span>: <span class="number">18</span></span><br><span class="line">Server <span class="attribute">Version</span>: <span class="number">18.06</span>.<span class="number">3</span>-ce</span><br><span class="line">Storage <span class="attribute">Driver</span>: overlay2</span><br><span class="line"> Backing <span class="attribute">Filesystem</span>: extfs</span><br><span class="line"> Supports d_<span class="attribute">type</span>: true</span><br><span class="line"> Native Overlay <span class="attribute">Diff</span>: true</span><br><span class="line">Logging <span class="attribute">Driver</span>: json-file</span><br><span class="line">Cgroup <span class="attribute">Driver</span>: systemd</span><br><span class="line"><span class="attribute">Plugins</span>:</span><br><span class="line"> <span class="attribute">Volume</span>: local</span><br><span class="line"> <span class="attribute">Network</span>: bridge host macvlan null overlay</span><br><span class="line"> <span class="attribute">Log</span>: awslogs fluentd gcplogs gelf journald json-file logentries splunk syslog</span><br><span class="line"><span class="attribute">Swarm</span>: inactive</span><br><span class="line"><span class="attribute">Runtimes</span>: ascend runc</span><br><span class="line">Default <span class="attribute">Runtime</span>: ascend</span><br><span class="line">Init <span class="attribute">Binary</span>: docker-init</span><br><span class="line">containerd <span class="attribute">version</span>: <span class="number">468</span>a545b9edcd5932818eb9de8e72413e616e86e</span><br><span class="line">runc <span class="attribute">version</span>: a592beb5bc4c4092b1b1bac971afed27687340c5</span><br><span class="line">init <span class="attribute">version</span>: fec3683</span><br><span class="line">Security <span class="attribute">Options</span>:</span><br><span class="line"> apparmor</span><br><span class="line"> seccomp</span><br><span class="line">  <span class="attribute">Profile</span>: default</span><br><span class="line">Kernel <span class="attribute">Version</span>: <span class="number">4.15</span>.<span class="number">0</span>-<span class="number">112</span>-generic</span><br><span class="line">Operating <span class="attribute">System</span>: Ubuntu <span class="number">18.04</span>.<span class="number">5</span> LTS</span><br><span class="line"><span class="attribute">OSType</span>: linux</span><br><span class="line"><span class="attribute">Architecture</span>: aarch64</span><br><span class="line"><span class="attribute">CPUs</span>: <span class="number">192</span></span><br><span class="line">Total <span class="attribute">Memory</span>: <span class="number">503.6</span>GiB</span><br><span class="line"><span class="attribute">Name</span>: ubuntu</span><br><span class="line"><span class="attribute">ID</span>: <span class="attribute">MUTU</span>:<span class="attribute">QOYU</span>:<span class="number">2</span>P6<span class="attribute">F</span>:P2<span class="attribute">QB</span>:<span class="number">4</span><span class="attribute">JKZ</span>:<span class="attribute">QNKE</span>:<span class="attribute">PPMQ</span>:<span class="attribute">PQLL</span>:<span class="number">3</span><span class="attribute">PDG</span>:<span class="attribute">QEYU</span>:<span class="attribute">LMDK</span>:KNMF</span><br><span class="line">Docker Root <span class="attribute">Dir</span>: /var/lib/docker</span><br><span class="line">Debug Mode (client): false</span><br><span class="line">Debug Mode (server): false</span><br><span class="line"><span class="attribute">Registry</span>: <span class="attribute">https</span>://index.docker.io/v1/</span><br><span class="line"><span class="attribute">Labels</span>:</span><br><span class="line"><span class="attribute">Experimental</span>: false</span><br><span class="line">Insecure <span class="attribute">Registries</span>:</span><br><span class="line"> docker.mirrors.ustc.edu.cn</span><br><span class="line"> <span class="number">127.0</span>.<span class="number">0.0</span>/<span class="number">8</span></span><br><span class="line">Registry <span class="attribute">Mirrors</span>:</span><br><span class="line"> <span class="attribute">https</span>://dockerhub.azk8s.cn/</span><br><span class="line"> <span class="attribute">https</span>://docker.mirrors.ustc.edu.cn/</span><br><span class="line"> <span class="attribute">http</span>://hub-mirror.c.<span class="number">163</span>.com/</span><br><span class="line">Live Restore <span class="attribute">Enabled</span>: false</span><br><span class="line"></span><br><span class="line"><span class="attribute">WARNING</span>: No swap limit support</span><br></pre></td></tr></table></figure>
<pre><code>2. kubectl的pod信息查看  
</code></pre><figure class="highlight mel"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br></pre></td><td class="code"><pre><span class="line">root@ubuntu:~# kubectl get pod --all-namespaces</span><br><span class="line">NAMESPACE        NAME                                       READY   STATUS      RESTARTS   AGE</span><br><span class="line">cadvisor         cadvisor-nsn4r                             <span class="number">1</span>/<span class="number">1</span>     Running     <span class="number">0</span>          <span class="number">5</span>m23s</span><br><span class="line"><span class="keyword">default</span>          hccl-controller<span class="number">-645</span>bb466f<span class="number">-5</span>fqq6            <span class="number">1</span>/<span class="number">1</span>     Running     <span class="number">0</span>          <span class="number">5</span>m34s</span><br><span class="line">kube-<span class="keyword">system</span>      ascend-device-plugin-daemonset-vxj8s       <span class="number">1</span>/<span class="number">1</span>     Running     <span class="number">0</span>          <span class="number">5</span>m23s</span><br><span class="line">kube-<span class="keyword">system</span>      calico-kube-controllers<span class="number">-8464785</span>d6b-bnjdn   <span class="number">1</span>/<span class="number">1</span>     Running     <span class="number">0</span>          <span class="number">5</span>m50s</span><br><span class="line">kube-<span class="keyword">system</span>      calico-node-blshl                          <span class="number">1</span>/<span class="number">1</span>     Running     <span class="number">0</span>          <span class="number">5</span>m51s</span><br><span class="line">kube-<span class="keyword">system</span>      coredns<span class="number">-6955765</span>f44<span class="number">-5</span>jr59                   <span class="number">1</span>/<span class="number">1</span>     Running     <span class="number">0</span>          <span class="number">5</span>m50s</span><br><span class="line">kube-<span class="keyword">system</span>      coredns<span class="number">-6955765</span>f44-wbzvz                   <span class="number">1</span>/<span class="number">1</span>     Running     <span class="number">0</span>          <span class="number">5</span>m50s</span><br><span class="line">kube-<span class="keyword">system</span>      etcd-ubuntu                                <span class="number">1</span>/<span class="number">1</span>     Running     <span class="number">0</span>          <span class="number">5</span>m43s</span><br><span class="line">kube-<span class="keyword">system</span>      kube-apiserver-ubuntu                      <span class="number">1</span>/<span class="number">1</span>     Running     <span class="number">0</span>          <span class="number">5</span>m43s</span><br><span class="line">kube-<span class="keyword">system</span>      kube-controller-manager-ubuntu             <span class="number">1</span>/<span class="number">1</span>     Running     <span class="number">0</span>          <span class="number">5</span>m43s</span><br><span class="line">kube-<span class="keyword">system</span>      kube-proxy-b78fm                           <span class="number">1</span>/<span class="number">1</span>     Running     <span class="number">0</span>          <span class="number">5</span>m51s</span><br><span class="line">kube-<span class="keyword">system</span>      kube-scheduler-ubuntu                      <span class="number">1</span>/<span class="number">1</span>     Running     <span class="number">0</span>          <span class="number">5</span>m43s</span><br><span class="line">volcano-<span class="keyword">system</span>   volcano-admission<span class="number">-74776688</span>c8-g9p9q         <span class="number">1</span>/<span class="number">1</span>     Running     <span class="number">0</span>          <span class="number">5</span>m31s</span><br><span class="line">volcano-<span class="keyword">system</span>   volcano-admission-init-sbktn               <span class="number">0</span>/<span class="number">1</span>     Completed   <span class="number">0</span>          <span class="number">5</span>m31s</span><br><span class="line">volcano-<span class="keyword">system</span>   volcano-controllers<span class="number">-6786</span>db54f-vn797        <span class="number">1</span>/<span class="number">1</span>     Running     <span class="number">0</span>          <span class="number">5</span>m31s</span><br><span class="line">volcano-<span class="keyword">system</span>   volcano-scheduler<span class="number">-844</span>f9b547b-xxjm7         <span class="number">1</span>/<span class="number">1</span>     Running     <span class="number">0</span>          <span class="number">5</span>m31s</span><br><span class="line">root@ubuntu:~# </span><br><span class="line">root@ubuntu:~# kubectl describe node ubuntu</span><br><span class="line">Name:               ubuntu</span><br><span class="line">Roles:              master,worker</span><br><span class="line">Labels:             accelerator=huawei-Ascend910</span><br><span class="line">                    beta.kubernetes.io/arch=arm64</span><br><span class="line">                    beta.kubernetes.io/os=linux</span><br><span class="line">                    host-arch=huawei-arm</span><br><span class="line">                    kubernetes.io/arch=arm64</span><br><span class="line">                    kubernetes.io/hostname=ubuntu</span><br><span class="line">                    kubernetes.io/os=linux</span><br><span class="line">                    masterselector=dls-master-node</span><br><span class="line">                    node-role.kubernetes.io/master=</span><br><span class="line">                    node-role.kubernetes.io/worker=worker</span><br><span class="line">                    workerselector=dls-worker-node</span><br><span class="line">Annotations:        huawei.com/Ascend910: Ascend910<span class="number">-1</span>,Ascend910<span class="number">-2</span>,Ascend910<span class="number">-3</span>,Ascend910<span class="number">-0</span></span><br><span class="line">                    kubeadm.alpha.kubernetes.io/cri-socket: /var/run/dockershim.sock</span><br><span class="line">                    node.alpha.kubernetes.io/ttl: <span class="number">0</span></span><br><span class="line">                    projectcalico.org/IPv4Address: <span class="number">192.168</span><span class="number">.1</span><span class="number">.110</span>/<span class="number">24</span></span><br><span class="line">                    projectcalico.org/IPv4IPIPTunnelAddr: <span class="number">10.30</span><span class="number">.243</span><span class="number">.192</span></span><br><span class="line">                    volumes.kubernetes.io/controller-managed-attach-detach: true</span><br><span class="line">CreationTimestamp:  Thu, <span class="number">05</span> Aug <span class="number">2021</span> <span class="number">16</span>:<span class="number">34</span>:<span class="number">33</span> +<span class="number">0800</span></span><br><span class="line">Taints:             &lt;none&gt;</span><br><span class="line">Unschedulable:      false</span><br><span class="line">Lease:</span><br><span class="line">  HolderIdentity:  ubuntu</span><br><span class="line">  AcquireTime:     &lt;unset&gt;</span><br><span class="line">  RenewTime:       Thu, <span class="number">05</span> Aug <span class="number">2021</span> <span class="number">16</span>:<span class="number">41</span>:<span class="number">29</span> +<span class="number">0800</span></span><br><span class="line">Conditions:</span><br><span class="line">  Type                 Status  LastHeartbeatTime                 LastTransitionTime                Reason                       Message</span><br><span class="line">  ----                 ------  -----------------                 ------------------                ------                       -------</span><br><span class="line">  NetworkUnavailable   False   Thu, <span class="number">05</span> Aug <span class="number">2021</span> <span class="number">16</span>:<span class="number">35</span>:<span class="number">06</span> +<span class="number">0800</span>   Thu, <span class="number">05</span> Aug <span class="number">2021</span> <span class="number">16</span>:<span class="number">35</span>:<span class="number">06</span> +<span class="number">0800</span>   CalicoIsUp                   Calico is running on this node</span><br><span class="line">  MemoryPressure       False   Thu, <span class="number">05</span> Aug <span class="number">2021</span> <span class="number">16</span>:<span class="number">40</span>:<span class="number">30</span> +<span class="number">0800</span>   Thu, <span class="number">05</span> Aug <span class="number">2021</span> <span class="number">16</span>:<span class="number">34</span>:<span class="number">27</span> +<span class="number">0800</span>   KubeletHasSufficientMemory   kubelet has sufficient <span class="keyword">memory</span> available</span><br><span class="line">  DiskPressure         False   Thu, <span class="number">05</span> Aug <span class="number">2021</span> <span class="number">16</span>:<span class="number">40</span>:<span class="number">30</span> +<span class="number">0800</span>   Thu, <span class="number">05</span> Aug <span class="number">2021</span> <span class="number">16</span>:<span class="number">34</span>:<span class="number">27</span> +<span class="number">0800</span>   KubeletHasNoDiskPressure     kubelet has no disk pressure</span><br><span class="line">  PIDPressure          False   Thu, <span class="number">05</span> Aug <span class="number">2021</span> <span class="number">16</span>:<span class="number">40</span>:<span class="number">30</span> +<span class="number">0800</span>   Thu, <span class="number">05</span> Aug <span class="number">2021</span> <span class="number">16</span>:<span class="number">34</span>:<span class="number">27</span> +<span class="number">0800</span>   KubeletHasSufficientPID      kubelet has sufficient PID available</span><br><span class="line">  Ready                True    Thu, <span class="number">05</span> Aug <span class="number">2021</span> <span class="number">16</span>:<span class="number">40</span>:<span class="number">30</span> +<span class="number">0800</span>   Thu, <span class="number">05</span> Aug <span class="number">2021</span> <span class="number">16</span>:<span class="number">35</span>:<span class="number">19</span> +<span class="number">0800</span>   KubeletReady                 kubelet is posting ready status. AppArmor enabled</span><br><span class="line">Addresses:</span><br><span class="line">  InternalIP:  <span class="number">192.168</span><span class="number">.1</span><span class="number">.110</span></span><br><span class="line">  Hostname:    ubuntu</span><br><span class="line">Capacity:</span><br><span class="line">  cpu:                   <span class="number">192</span></span><br><span class="line">  ephemeral-storage:     <span class="number">920422204</span>Ki</span><br><span class="line">  huawei.com/Ascend910:  <span class="number">4</span></span><br><span class="line">  hugepages<span class="number">-2</span>Mi:         <span class="number">0</span></span><br><span class="line">  <span class="keyword">memory</span>:                <span class="number">528101392</span>Ki</span><br><span class="line">  pods:                  <span class="number">110</span></span><br><span class="line">Allocatable:</span><br><span class="line">  cpu:                   <span class="number">192</span></span><br><span class="line">  ephemeral-storage:     <span class="number">848261101802</span></span><br><span class="line">  huawei.com/Ascend910:  <span class="number">4</span></span><br><span class="line">  hugepages<span class="number">-2</span>Mi:         <span class="number">0</span></span><br><span class="line">  <span class="keyword">memory</span>:                <span class="number">527998992</span>Ki</span><br><span class="line">  pods:                  <span class="number">110</span></span><br><span class="line">System Info:</span><br><span class="line">  Machine ID:                 <span class="number">3996e745414</span>f461b9e0e990f6d0b597e</span><br><span class="line">  System UUID:                CD56756C<span class="number">-607</span>E-BD02-EB11<span class="number">-5292</span>EAFB068C</span><br><span class="line">  Boot ID:                    adb96127<span class="number">-7</span>fdc<span class="number">-4</span>d84<span class="number">-8867</span>-a13005f9b535</span><br><span class="line">  Kernel Version:             <span class="number">4.15</span><span class="number">.0</span><span class="number">-112</span>-generic</span><br><span class="line">  OS Image:                   Ubuntu <span class="number">18.04</span><span class="number">.5</span> LTS</span><br><span class="line">  Operating System:           linux</span><br><span class="line">  Architecture:               arm64</span><br><span class="line">  Container Runtime Version:  docker:<span class="comment">//18.6.3</span></span><br><span class="line">  Kubelet Version:            v1<span class="number">.17</span><span class="number">.3</span></span><br><span class="line">  Kube-Proxy Version:         v1<span class="number">.17</span><span class="number">.3</span></span><br><span class="line">PodCIDR:                      <span class="number">10.30</span><span class="number">.0</span><span class="number">.0</span>/<span class="number">24</span></span><br><span class="line">PodCIDRs:                     <span class="number">10.30</span><span class="number">.0</span><span class="number">.0</span>/<span class="number">24</span></span><br><span class="line">Non-terminated Pods:          (<span class="number">15</span> <span class="keyword">in</span> total)</span><br><span class="line">  Namespace                   Name                                        CPU Requests  CPU Limits  Memory Requests  Memory Limits  AGE</span><br><span class="line">  ---------                   ----                                        ------------  ----------  ---------------  -------------  ---</span><br><span class="line">  cadvisor                    cadvisor-nsn4r                              <span class="number">500</span>m (<span class="number">0</span>%)     <span class="number">1</span> (<span class="number">0</span>%)      <span class="number">300</span>Mi (<span class="number">0</span>%)       <span class="number">2000</span>Mi (<span class="number">0</span>%)    <span class="number">6</span>m17s</span><br><span class="line">  <span class="keyword">default</span>                     hccl-controller<span class="number">-645</span>bb466f<span class="number">-5</span>fqq6             <span class="number">500</span>m (<span class="number">0</span>%)     <span class="number">500</span>m (<span class="number">0</span>%)   <span class="number">300</span>Mi (<span class="number">0</span>%)       <span class="number">300</span>Mi (<span class="number">0</span>%)     <span class="number">6</span>m28s</span><br><span class="line">  kube-<span class="keyword">system</span>                 ascend-device-plugin-daemonset-vxj8s        <span class="number">500</span>m (<span class="number">0</span>%)     <span class="number">500</span>m (<span class="number">0</span>%)   <span class="number">500</span>Mi (<span class="number">0</span>%)       <span class="number">500</span>Mi (<span class="number">0</span>%)     <span class="number">6</span>m17s</span><br><span class="line">  kube-<span class="keyword">system</span>                 calico-kube-controllers<span class="number">-8464785</span>d6b-bnjdn    <span class="number">0</span> (<span class="number">0</span>%)        <span class="number">0</span> (<span class="number">0</span>%)      <span class="number">0</span> (<span class="number">0</span>%)           <span class="number">0</span> (<span class="number">0</span>%)         <span class="number">6</span>m44s</span><br><span class="line">  kube-<span class="keyword">system</span>                 calico-node-blshl                           <span class="number">250</span>m (<span class="number">0</span>%)     <span class="number">0</span> (<span class="number">0</span>%)      <span class="number">0</span> (<span class="number">0</span>%)           <span class="number">0</span> (<span class="number">0</span>%)         <span class="number">6</span>m45s</span><br><span class="line">  kube-<span class="keyword">system</span>                 coredns<span class="number">-6955765</span>f44<span class="number">-5</span>jr59                    <span class="number">100</span>m (<span class="number">0</span>%)     <span class="number">0</span> (<span class="number">0</span>%)      <span class="number">70</span>Mi (<span class="number">0</span>%)        <span class="number">170</span>Mi (<span class="number">0</span>%)     <span class="number">6</span>m44s</span><br><span class="line">  kube-<span class="keyword">system</span>                 coredns<span class="number">-6955765</span>f44-wbzvz                    <span class="number">100</span>m (<span class="number">0</span>%)     <span class="number">0</span> (<span class="number">0</span>%)      <span class="number">70</span>Mi (<span class="number">0</span>%)        <span class="number">170</span>Mi (<span class="number">0</span>%)     <span class="number">6</span>m44s</span><br><span class="line">  kube-<span class="keyword">system</span>                 etcd-ubuntu                                 <span class="number">0</span> (<span class="number">0</span>%)        <span class="number">0</span> (<span class="number">0</span>%)      <span class="number">0</span> (<span class="number">0</span>%)           <span class="number">0</span> (<span class="number">0</span>%)         <span class="number">6</span>m37s</span><br><span class="line">  kube-<span class="keyword">system</span>                 kube-apiserver-ubuntu                       <span class="number">250</span>m (<span class="number">0</span>%)     <span class="number">0</span> (<span class="number">0</span>%)      <span class="number">0</span> (<span class="number">0</span>%)           <span class="number">0</span> (<span class="number">0</span>%)         <span class="number">6</span>m37s</span><br><span class="line">  kube-<span class="keyword">system</span>                 kube-controller-manager-ubuntu              <span class="number">200</span>m (<span class="number">0</span>%)     <span class="number">0</span> (<span class="number">0</span>%)      <span class="number">0</span> (<span class="number">0</span>%)           <span class="number">0</span> (<span class="number">0</span>%)         <span class="number">6</span>m37s</span><br><span class="line">  kube-<span class="keyword">system</span>                 kube-proxy-b78fm                            <span class="number">0</span> (<span class="number">0</span>%)        <span class="number">0</span> (<span class="number">0</span>%)      <span class="number">0</span> (<span class="number">0</span>%)           <span class="number">0</span> (<span class="number">0</span>%)         <span class="number">6</span>m45s</span><br><span class="line">  kube-<span class="keyword">system</span>                 kube-scheduler-ubuntu                       <span class="number">100</span>m (<span class="number">0</span>%)     <span class="number">0</span> (<span class="number">0</span>%)      <span class="number">0</span> (<span class="number">0</span>%)           <span class="number">0</span> (<span class="number">0</span>%)         <span class="number">6</span>m37s</span><br><span class="line">  volcano-<span class="keyword">system</span>              volcano-admission<span class="number">-74776688</span>c8-g9p9q          <span class="number">500</span>m (<span class="number">0</span>%)     <span class="number">500</span>m (<span class="number">0</span>%)   <span class="number">300</span>Mi (<span class="number">0</span>%)       <span class="number">300</span>Mi (<span class="number">0</span>%)     <span class="number">6</span>m25s</span><br><span class="line">  volcano-<span class="keyword">system</span>              volcano-controllers<span class="number">-6786</span>db54f-vn797         <span class="number">500</span>m (<span class="number">0</span>%)     <span class="number">500</span>m (<span class="number">0</span>%)   <span class="number">300</span>Mi (<span class="number">0</span>%)       <span class="number">300</span>Mi (<span class="number">0</span>%)     <span class="number">6</span>m25s</span><br><span class="line">  volcano-<span class="keyword">system</span>              volcano-scheduler<span class="number">-844</span>f9b547b-xxjm7          <span class="number">500</span>m (<span class="number">0</span>%)     <span class="number">500</span>m (<span class="number">0</span>%)   <span class="number">300</span>Mi (<span class="number">0</span>%)       <span class="number">300</span>Mi (<span class="number">0</span>%)     <span class="number">6</span>m25s</span><br><span class="line">Allocated resources:</span><br><span class="line">  (Total limits may be over <span class="number">100</span> <span class="keyword">percent</span>, i.e., overcommitted.)</span><br><span class="line">  Resource              Requests     Limits</span><br><span class="line">  --------              --------     ------</span><br><span class="line">  cpu                   <span class="number">4</span> (<span class="number">2</span>%)       <span class="number">3500</span>m (<span class="number">1</span>%)</span><br><span class="line">  <span class="keyword">memory</span>                <span class="number">2140</span>Mi (<span class="number">0</span>%)  <span class="number">4040</span>Mi (<span class="number">0</span>%)</span><br><span class="line">  ephemeral-storage     <span class="number">0</span> (<span class="number">0</span>%)       <span class="number">0</span> (<span class="number">0</span>%)</span><br><span class="line">  huawei.com/Ascend910  <span class="number">0</span>            <span class="number">0</span></span><br><span class="line">Events:</span><br><span class="line">  Type    Reason                   Age                    From                Message</span><br><span class="line">  ----    ------                   ----                   ----                -------</span><br><span class="line">  Normal  NodeHasSufficientMemory  <span class="number">7</span>m10s (x8 over <span class="number">7</span>m11s)  kubelet, ubuntu     Node ubuntu status is now: NodeHasSufficientMemory</span><br><span class="line">  Normal  NodeHasNoDiskPressure    <span class="number">7</span>m10s (x7 over <span class="number">7</span>m11s)  kubelet, ubuntu     Node ubuntu status is now: NodeHasNoDiskPressure</span><br><span class="line">  Normal  NodeHasSufficientPID     <span class="number">7</span>m10s (x6 over <span class="number">7</span>m11s)  kubelet, ubuntu     Node ubuntu status is now: NodeHasSufficientPID</span><br><span class="line">  Normal  Starting                 <span class="number">6</span>m37s                  kubelet, ubuntu     Starting kubelet.</span><br><span class="line">  Normal  NodeHasSufficientMemory  <span class="number">6</span>m37s                  kubelet, ubuntu     Node ubuntu status is now: NodeHasSufficientMemory</span><br><span class="line">  Normal  NodeHasNoDiskPressure    <span class="number">6</span>m37s                  kubelet, ubuntu     Node ubuntu status is now: NodeHasNoDiskPressure</span><br><span class="line">  Normal  NodeHasSufficientPID     <span class="number">6</span>m37s                  kubelet, ubuntu     Node ubuntu status is now: NodeHasSufficientPID</span><br><span class="line">  Normal  NodeAllocatableEnforced  <span class="number">6</span>m37s                  kubelet, ubuntu     Updated Node Allocatable limit across pods</span><br><span class="line">  Normal  Starting                 <span class="number">6</span>m33s                  kube-proxy, ubuntu  Starting kube-proxy.</span><br><span class="line">  Normal  NodeReady                <span class="number">6</span>m17s                  kubelet, ubuntu     Node ubuntu status is now: NodeReady</span><br><span class="line">root@ubuntu:~#</span><br></pre></td></tr></table></figure>
<p>注* 再此信息中可以看到CPU和加速卡的信息</p>
<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">Capacity</span>:</span><br><span class="line">  <span class="attribute">cpu</span>:                   <span class="number">192</span></span><br><span class="line">  <span class="attribute">ephemeral</span>-storage:     <span class="number">920422204</span>Ki</span><br><span class="line">  <span class="attribute">huawei</span>.com/Ascend<span class="number">910</span>:  <span class="number">4</span></span><br><span class="line">  <span class="attribute">hugepages</span>-<span class="number">2</span>Mi:         <span class="number">0</span></span><br><span class="line">  <span class="attribute">memory</span>:                <span class="number">528101392</span>Ki</span><br><span class="line">  <span class="attribute">pods</span>:                  <span class="number">110</span></span><br><span class="line"><span class="attribute">Allocatable</span>:</span><br><span class="line">  <span class="attribute">cpu</span>:                   <span class="number">192</span></span><br><span class="line">  <span class="attribute">ephemeral</span>-storage:     <span class="number">848261101802</span></span><br><span class="line">  <span class="attribute">huawei</span>.com/Ascend<span class="number">910</span>:  <span class="number">4</span></span><br><span class="line">  <span class="attribute">hugepages</span>-<span class="number">2</span>Mi:         <span class="number">0</span></span><br><span class="line">  <span class="attribute">memory</span>:                <span class="number">527998992</span>Ki</span><br><span class="line">  <span class="attribute">pods</span>:                  <span class="number">110</span></span><br></pre></td></tr></table></figure>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/5192ab3e43e640fd8d935795ea96b768~tplv-k3u1fbpfcp-zoom-1.image" alt="图片"></p>
<p><strong>详情可以查看华为官方文档：  
</strong></p>
<p><strong><a target="_blank" rel="noopener" href="https://support.huaweicloud.com/mindxdl201/">https://support.huaweicloud.com/mindxdl201/</a></strong></p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ce668ce68dbc4666a4b7ad3a8f24d97e~tplv-k3u1fbpfcp-zoom-1.image" alt="图片"></p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/18e44bcfb97e4d2b8d720b70f986d10e~tplv-k3u1fbpfcp-zoom-1.image" alt="Linux运维交流社区"></p>
<p><strong>Linux运维交流社区</strong></p>
<p>Linux运维交流社区，互联网新闻以及技术交流。</p>
<p>30篇原创内容</p>
<p>公众号</p>
<blockquote>
<p>本文使用 <a target="_blank" rel="noopener" href="https://juejin.cn/post/6940875049587097631">文章同步助手</a> 同步</p>
</blockquote>


        <hr>
        <!-- Pager -->
        <ul class="pager">
          
          <li class="previous">
            <a href="/en/2021-12-30-Linux文件系统故障，Input_output_error/" data-toggle="tooltip" data-placement="top" title="Linux文件系统故障，Input/output error">&larr; Previous Post</a>
          </li>
          
          
          <li class="next">
            <a href="/en/2021-12-30-华为_A800-9000_服务器_离线安装MindX_DL/" data-toggle="tooltip" data-placement="top" title="华为 A800-9000 服务器 离线安装MindX DL">Next Post &rarr;</a>
          </li>
          
        </ul>

        
        <!-- tip start -->
        <!-- tip -->
<!-- tip start -->
<div class="tip">
  <p>
    
      如果您喜欢此博客或发现它对您有用，则欢迎对此发表评论。 也欢迎您共享此博客，以便更多人可以参与。 如果博客中使用的图像侵犯了您的版权，请与作者联系以将其删除。 谢谢 ！
    
  </p>
</div>
<!-- tip end -->

        <!-- tip end -->
        

        
        <!-- Sharing Srtart -->
        <!-- Social Social Share Post -->
<!-- Docs:https://github.com/overtrue/share.js -->

<div class="social-share" data-initialized="true" data-disabled="tencent ,douban ,qzone ,linkedin ,facebook ,google ,diandian" data-wechat-qrcode-helper="" align="center">
  <ul class="list-inline text-center social-share-ul">
    <li class="social-share-li">
      <a target="_blank" class="social-share-icon icon-twitter">
        <i class="fa fa-twitter fa-1x" aria-hidden="true"></i>
      </a>
    </li>
    <li class="social-share-li">
      <a class="social-share-icon icon-wechat">
        <i class="fa fa-weixin fa-1x" aria-hidden="true"></i>
      </a>
    </li>
    <li class="social-share-li">
      <a target="_blank" class="social-share-icon icon-weibo">
        <i class="fa fa-weibo fa-1x" aria-hidden="true"></i>
      </a>
    </li>
    <li class="social-share-li">
      <a target="_blank" class="social-share-icon icon-qq">
        <i class="fa fa-qq fa-1x" aria-hidden="true"></i>
      </a>
    </li>
    <li class="social-share-li">
      <a target="_blank" class="social-share-icon" href="mailto:?subject=华为 A800-9000 服务器 离线安装MindX DL&body=Hi,I found this website and thought you might like it http://yoursite-url/cn/2021-12-30-华为_A800-9000_服务器_离线安装MindX_DL/">
        <i class="fa fa-envelope fa-1x" aria-hidden="true"></i>
      </a>
    </li>
  </ul>
</div>

<!-- css & js -->
<!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/social-share.js/1.0.16/css/share.min.css"> -->
<script defer="defer" async="true" src="https://cdnjs.cloudflare.com/ajax/libs/social-share.js/1.0.16/js/social-share.min.js"></script>

        <!-- Sharing End -->
        
        <hr>

        <!-- comments start -->
        <!-- 1. gitalk comment -->

  <!-- gitalk start -->
  <!-- Docs:https://github.com/gitalk/gitalk/blob/master/readme-cn.md -->

  <div id="gitalk-container"></div>

  
    <!-- <script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.js"></script> -->
    <script src="/js/comment/gitalk.js"></script>
  

  <script>
    var gitalk = new Gitalk({
      clientID: '',
      clientSecret: '',
      repo: '',
      owner: '',
      admin: '',
      id: 'Thu Dec 30 2021 17:01:10 GMT+0800', // Ensure uniqueness and length less than 50
      distractionFreeMode: false, // Facebook-like distraction free mode
      perPage: 10,
      pagerDirection: 'last',
      createIssueManually: false,
      language: 'en',
      proxy: 'https://cors-anywhere.azm.workers.dev/https://github.com/login/oauth/access_token'
    });
    gitalk.render('gitalk-container');

    var gtFolded = () => {
      setTimeout(function () {
        let markdownBody = document.getElementsByClassName("markdown-body");
        let list = Array.from(markdownBody);
        list.forEach(item => {
          if (item.clientHeight > 250) {
            item.classList.add('gt-comment-body-folded');
            item.style.maxHeight = '250px';
            item.title = 'Click to Expand';
            item.onclick = function () {
              item.classList.remove('gt-comment-body-folded');
              item.style.maxHeight = '';
              item.title = '';
              item.onclick = null;
            };
          }
        })
      }, 800);
    }
  </script>

  <!-- gitalk end -->


<!-- 2. gitment comment -->


<!-- 3. disqus comment -->


        <!-- comments end -->
        <hr>

      </div>

      <!-- Catalog: Tabe of Content -->
      <!-- Table of Contents -->



      <!-- Sidebar Container -->
      <div class="
                col-lg-8 col-lg-offset-1
                col-md-10 col-md-offset-1
                sidebar-container">

        <!-- Featured Tags -->
        
        <section>
          <!-- no hr -->
          <h5>
            <a href="/tags/">特色标签</a>
          </h5>
          <div class="tags">
            
          </div>
        </section>
        

        <!-- Friends Blog -->
        
        <hr>
        <h5>链友</h5>
        <ul class="list-inline">

          
          <li>
            <a href="https://v-vincen.life/" target="_blank">V_Vincen</a>
          </li>
          
          <li>
            <a href="http://beantech.org" target="_blank">Bean Tech</a>
          </li>
          
          <li>
            <a href="http://huangxuan.me" target="_blank">Hux Blog</a>
          </li>
          
          <li>
            <a href="https://hexo.io/" target="_blank">Hexo</a>
          </li>
          
        </ul>
        
      </div>
    </div>
  </div>
</article>



<!-- anchorjs start -->
<!-- async load function -->
<!-- anchor-js, Doc:http://bryanbraun.github.io/anchorjs/ -->
<script type="text/javascript">
  // async load function
  function async (u, c) {
    var d = document,
      t = 'script',
      o = d.createElement(t),
      s = d.getElementsByTagName(t)[0];
    o.src = u;
    if (c) {
      o.addEventListener('load', function(e) {
        c(null, e);
      }, false);
    }
    s.parentNode.insertBefore(o, s);
  };
</script>
<script type="text/javascript">
  //anchor-js, Doc:http://bryanbraun.github.io/anchorjs/
  async ("https://cdn.bootcss.com/anchor-js/1.1.1/anchor.min.js", function() {
    anchors.options = {
      visible: 'hover',
      placement: 'left',
      // icon: 'ℬ'
      icon: '❡'
    };
    anchors.add().remove('.intro-header h1').remove('.subheading').remove('.sidebar-container h5');
  });
</script>
<style>
  /* place left on bigger screen */
  @media all and (min-width: 800px) {
    .anchorjs-link {
      position: absolute;
      left: -0.75em;
      font-size: 1.1em;
      margin-top: -0.1em;
    }
  }
</style>

<!-- anchorjs end -->



		<!-- Footer (contains ThemeColor、viewer) -->
		<!-- Footer -->
<footer>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <ul class="list-inline text-center">
          

          
            <li>
              <a target="_blank" href="https://github.com/cby-chen/">
                <span class="fa-stack fa-lg">
                  <i class="fa fa-circle fa-stack-2x"></i>
                  <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                </span>
              </a>
            </li>
          

          
            <li>
              <a target="_blank" href="https://twitter.com/Mr_cby">
                <span class="fa-stack fa-lg">
                  <i class="fa fa-circle fa-stack-2x"></i>
                  <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
                </span>
              </a>
            </li>
          

          
            <li>
              <a target="_blank" href="https://instagram.com/chenby_cby/">
                <span class="fa-stack fa-lg">
                  <i class="fa fa-circle fa-stack-2x"></i>
                  <i class="fa fa-instagram fa-stack-1x fa-inverse"></i>
                </span>
              </a>
            </li>
          

          

          

          

          
            <li>
              <a target="_blank" href="https://weibo.com/u/5982474121">
                <span class="fa-stack fa-lg">
                  <i class="fa fa-circle fa-stack-2x"></i>
                  <i class="fa fa-weibo fa-stack-1x fa-inverse"></i>
                </span>
              </a>
            </li>
          

        </ul>
        <p class="copyright text-muted">
          Copyright &copy;
          chenby
          2022
          <br>
          cby
          <a href="https://beian.miit.gov.cn/" target="_blank">京ICP备18055511号</a>
          <span style="display: inline-block; margin: 0 5px;">
            <i class="fa fa-heart"></i>
          </span>
          <a target="_blank" rel="noopener" href="https://www.oiox.cn/">www.oiox.cn</a>
          |
          <iframe style="margin-left: 2px; margin-bottom:-5px;" frameborder="0" scrolling="0" width="91px" height="20px" src="https://ghbtns.com/github-btn.html?user=cby-chen&repo=cby-chen.github.io&type=star&count=true"></iframe>
        </p>
      </div>
    </div>
  </div>
</footer>

<a id="rocket" href="#top" class=""></a>


  <!-- jQuery -->
  <script type="text/javascript" src="/js/jquery.min.js"></script>
  <!-- Bootstrap Core JavaScript -->
  <script type="text/javascript" src="/js/bootstrap.min.js"></script>
  <!-- Custom Theme JavaScript -->
  <script type="text/javascript" src="/js/hux-blog.min.js"></script>
  <!-- catalog -->
  <script async="true" type="text/javascript" src="/js/catalog.js"></script>
  <!-- totop(rocket) -->
  <script async="true" type="text/javascript" src="/js/totop.js"></script>

  
    <!-- Busuanzi JavaScript -->
    <script async="async" src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
  

  
    <!-- Scroll start -->
    <script async="async" type="text/javascript" src="/js/scroll.js"></script>
    <!-- Scroll end -->
  

  
    <!-- LangSelect start -->
    <script type="text/javascript" src="/js/langselect.js"></script>
    <!-- LangSelect end -->
  

  
    <!-- Mouseclick -->
    <script type="text/javascript" src="/js/mouseclick.js" content='The first step is as good as half over...,Laugh and grow fat...,Man proposes God disposes...,When all else is lost the future still remains...,Wasting time is robbing oneself...,Sharp tools make good work...,Cease to struggle and you cease to live...,A friend in need is a friend indeed...,Faith can move mountains...' color='#9933CC,#339933,#66CCCC,#FF99CC,#CCCCFF,#6666CC,#663399,#66CC99,#FF0033'></script>
  

  
    <!-- ribbon -->
    <script type="text/javascript" src="/js/ribbonDynamic.js"></script>
  

  






  <!-- viewer start -->
  <!-- viewer start (Picture preview) -->
  
    <script async="async" type="text/javascript" src="/js/viewer/viewer.min.js"></script>
    <script async="async" type="text/javascript" src="/js/viewer/pic-viewer.js"></script>
  

  <!-- viewer end -->


<script>
  // async load function
  function async (u, c) {
    var d = document,
      t = 'script',
      o = d.createElement(t),
      s = d.getElementsByTagName(t)[0];
    o.src = u;
    if (c) {
      o.addEventListener('load', function (e) {
        c(null, e);
      }, false);
    }
    s.parentNode.insertBefore(o, s);
  }

  // fastClick.js
  async ("https://cdn.bootcss.com/fastclick/1.0.6/fastclick.min.js", function () {
    var $nav = document.querySelector("nav");
    if ($nav)
      FastClick.attach($nav);
    }
  )
</script>

<!-- Because of the native support for backtick-style fenced code blocks right within the Markdown is landed in Github Pages, From V1.6, There is no need for Highlight.js, so Huxblog drops it officially. -
https://github.com/blog/2100-github-pages-now-faster-and-simpler-with-jekyll-3-0 - https://help.github.com/articles/creating-and-highlighting-code-blocks/ -->
<!-- <script> async ("http://cdn.bootcss.com/highlight.js/8.6/highlight.min.js", function () { hljs.initHighlightingOnLoad(); }) </script> <link href="http://cdn.bootcss.com/highlight.js/8.6/styles/github.min.css" rel="stylesheet"> -->

<!-- jquery.tagcloud.js -->
<!-- <script> // only load tagcloud.js in tag.html if ($('#tag_cloud').length !== 0) { async ("http://yoursite-url/js/jquery.tagcloud.js", function () { $.fn.tagcloud.defaults = { // size: { start: 1, end: 1, unit: 'em' }, color: {
start: '#bbbbee', end: '#0085a1' } }; $('#tag_cloud a').tagcloud(); }) } </script> -->


		<!-- Search -->
		
		<div class="popup search-popup local-search-popup">
  <span class="popup-btn-close">
    ESC
  </span>
  <div class="container">
    <div class="row">
      <!-- <div class="col-md-9 col-md-offset-1"> -->
      <div class="col-lg-9 col-lg-offset-1 col-md-10 col-md-offset-1 local-search-content">

        <div class="local-search-header clearfix">

          <div class="local-search-input-wrapper">
            <span class="search-icon">
              <i class="fa fa-search fa-lg" style="margin: 25px 10px 25px 20px;"></i>
            </span>
            <input autocomplete="off" placeholder="搜索..." type="text" id="local-search-input">
          </div>
        </div>
        <div id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>


  
    <script src="/js/ziploader.js"></script>
  
  <script>
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.json";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    // monitor main search box;
    var onPopupClose = function (e) {
      $('.popup').fadeOut(300);
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $('.popup').fadeIn(300);
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }
    // get search zip version
    $.get('/searchVersion.json?t=' + (+new Date()), function (res) {
      if (localStorage.getItem('searchVersion') !== res) {
        localStorage.setItem('searchVersion', res);
        initSearchJson();
      }
    });

    function initSearchJson() {
      initLoad(['/search.flv'], {
        loadOptions: {
          success: function (obj) {
            localStorage.setItem('searchJson', obj['search.json'])
          },
          error: function (e) {
            return console.log(e)
          }
        },
        returnOptions: {
          'json': TYPE_TEXT
        },
        mimeOptions: {
          'json': 'application/json'
        }
      })
    }
    // search function;
    var searchFunc = function (search_id, content_id) {
      'use strict';
      isfetched = true;
      var datas = JSON.parse(localStorage.getItem('searchJson'));
      // console.log(search_id)
      var input = document.getElementById(search_id);
      var resultContent = document.getElementById(content_id);
      var inputEventFunction = function () {
        var searchText = input.value.trim().toLowerCase();
        var keywords = searchText.split(/[\s\-]+/);
        if (keywords.length > 1) {
          keywords.push(searchText);
        }
        var resultItems = [];
        if (searchText.length > 0) {
          // perform local searching
          datas.forEach(function (data) {
            var isMatch = false;
            var hitCount = 0;
            var searchTextCount = 0;
            var title = data.title
              ? data.title.trim()
              : '';
            var titleInLowerCase = title.toLowerCase();
            var content = data.content
              ? data.content.trim().replace(/<[^>]+>/g, "")
              : '';
            var contentInLowerCase = content.toLowerCase();
            var articleUrl = decodeURIComponent(data.url);

            var date = data.date;
            var dateTime = date.replace(/T/, " ").replace(/.000Z/, "");
            var imgUrl = data.header_img;
            


            var indexOfTitle = [];
            var indexOfContent = [];
            // only match articles with not empty titles
            keywords.forEach(function (keyword) {
              function getIndexByWord(word, text, caseSensitive) {
                var wordLen = word.length;
                if (wordLen === 0) {
                  return [];
                }
                var startPosition = 0,
                  position = [],
                  index = [];
                if (!caseSensitive) {
                  text = text.toLowerCase();
                  word = word.toLowerCase();
                }
                while ((position = text.indexOf(word, startPosition)) > -1) {
                  index.push({position: position, word: word});
                  startPosition = position + wordLen;
                }
                return index;
              }
              indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
              indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
            });
            if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
              isMatch = true;
              hitCount = indexOfTitle.length + indexOfContent.length;
            }
            // show search results
            if (isMatch) {
              // sort index by position of keyword
              [indexOfTitle, indexOfContent].forEach(function (index) {
                index.sort(function (itemLeft, itemRight) {
                  if (itemRight.position !== itemLeft.position) {
                    return itemRight.position - itemLeft.position;
                  } else {
                    return itemLeft.word.length - itemRight.word.length;
                  }
                });
              });
              // merge hits into slices
              function mergeIntoSlice(text, start, end, index) {
                var item = index[index.length - 1];
                var position = item.position;
                var word = item.word;
                var hits = [];
                var searchTextCountInSlice = 0;
                while (position + word.length <= end && index.length != 0) {
                  if (word === searchText) {
                    searchTextCountInSlice++;
                  }
                  hits.push({position: position, length: word.length});
                  var wordEnd = position + word.length;
                  // move to next position of hit
                  index.pop();
                  while (index.length != 0) {
                    item = index[index.length - 1];
                    position = item.position;
                    word = item.word;
                    if (wordEnd > position) {
                      index.pop();
                    } else {
                      break;
                    }
                  }
                }
                searchTextCount += searchTextCountInSlice;
                return {hits: hits, start: start, end: end, searchTextCount: searchTextCountInSlice};
              }
              var slicesOfTitle = [];
              if (indexOfTitle.length != 0) {
                slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
              }
              var slicesOfContent = [];
              while (indexOfContent.length != 0) {
                var item = indexOfContent[indexOfContent.length - 1];
                var position = item.position;
                var word = item.word;
                // cut out 100 characters
                var start = position - 20;
                var end = position + 80;
                if (start < 0) {
                  start = 0;
                }
                if (end < position + word.length) {
                  end = position + word.length;
                }
                if (end > content.length) {
                  end = content.length;
                }
                slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
              }
              // sort slices in content by search text's count and hits' count
              slicesOfContent.sort(function (sliceLeft, sliceRight) {
                if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                  return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                  return sliceRight.hits.length - sliceLeft.hits.length;
                } else {
                  return sliceLeft.start - sliceRight.start;
                }
              });
              // select top N slices in content
              var upperBound = parseInt('1');
              if (upperBound >= 0) {
                slicesOfContent = slicesOfContent.slice(0, upperBound);
              }
              // highlight title and content
              function highlightKeyword(text, slice) {
                var result = '';
                var prevEnd = slice.start;
                slice.hits.forEach(function (hit) {
                  result += text.substring(prevEnd, hit.position);
                  var end = hit.position + hit.length;
                  result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                  prevEnd = end;
                });
                result += text.substring(prevEnd, slice.end);
                return result;
              }
              var resultItem = '';

              // if (slicesOfTitle.length != 0) {   resultItem += "<li><a target='_blank' href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>"; } else {   resultItem += "<li><a target='_blank' href='" +
              // articleUrl + "' class='search-result-title'>" + title + "</a>"; } slicesOfContent.forEach(function (slice) {   resultItem += "<a target='_blank' href='" + articleUrl + "'><p class=\"search-result\">" + highlightKeyword(content, slice) +
              // "...</p></a>"; }); resultItem += "</li>";

              if (slicesOfTitle.length != 0) {
                resultItem += "<a target='_blank' href='" + articleUrl + "' class='search-result'><div class='search-result-left'><div class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</div><time class='search-result-date'>" + dateTime + "</time>";
              } else {
                resultItem += "<a target='_blank' href='" + articleUrl + "' class='search-result'><div class='search-result-left'><div class='search-result-title'>" + title + "</div><time class='search-result-date'>" + dateTime + "</time>";
              }
              slicesOfContent.forEach(function (slice) {
                resultItem += "<p class=\"search-result-content\">" + highlightKeyword(content, slice) + "...</p>";
              });
              resultItem += "</div><div class='search-result-right'><img class='media-image' src='" + imgUrl + "' width='64px' height='48px'></img></div></a>";

              resultItems.push({item: resultItem, searchTextCount: searchTextCount, hitCount: hitCount, id: resultItems.length});
            }
          })
        };

        if (keywords.length === 1 && keywords[0] === "") {
          resultContent.innerHTML = '<div id="no-result"></div>'
        } else if (resultItems.length === 0) {
          resultContent.innerHTML = '<div id="no-result"></div>'
        } else {
          resultItems.sort(function (resultLeft, resultRight) {
            if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
              return resultRight.searchTextCount - resultLeft.searchTextCount;
            } else if (resultLeft.hitCount !== resultRight.hitCount) {
              return resultRight.hitCount - resultLeft.hitCount;
            } else {
              return resultRight.id - resultLeft.id;
            }
          });
          var searchResultList = '<div class=\"search-result-list\">';
          resultItems.forEach(function (result) {
            searchResultList += result.item;
          })
          searchResultList += "</div>";
          resultContent.innerHTML = searchResultList;
        }
      }
      if ('auto' === 'auto') {
        input.addEventListener('input', inputEventFunction);
      } else {
        $('.search-icon').click(inputEventFunction);
        input.addEventListener('keypress', function (event) {
          if (event.keyCode === 13) {
            inputEventFunction();
          }
        });
      }
      // remove loading animation
      $('body').css('overflow', '');
      proceedsearch();
    }
    // handle and trigger popup window;
    $('.popup-trigger').click(function (e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc('local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });
    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function (e) {
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 && $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });

    document.addEventListener('mouseup', (e) => {
      var _con = document.querySelector(".local-search-content");
      if (_con) {
        if (!_con.contains(e.target)) {
          onPopupClose();
        }
      }
    });
  </script>


		
	<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });
</script>
<script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
</body>
</html>
